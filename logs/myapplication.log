2025-12-04T11:31:57.120+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 31044 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T11:31:57.125+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T11:31:57.178+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T11:31:57.179+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T11:31:58.052+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T11:31:58.115+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2025-12-04T11:31:58.604+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T11:31:58.615+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T11:31:58.616+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T11:31:58.658+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T11:31:58.660+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1480 ms
2025-12-04T11:31:58.806+07:00 DEBUG 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T11:31:59.246+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T11:31:59.274+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T11:31:59.372+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2c70e9c6
2025-12-04T11:31:59.374+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T11:32:00.464+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:32:00.670+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T11:32:02.525+07:00  WARN 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminOrderController' defined in file [E:\BE_QuanLyBanSach\target\classes\iuh\fit\controllers\AdminOrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in file [E:\BE_QuanLyBanSach\target\classes\iuh\fit\services\impl\OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
2025-12-04T11:32:02.526+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:32:02.529+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T11:32:02.533+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T11:32:02.536+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T11:32:02.552+07:00  INFO 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T11:32:02.575+07:00 ERROR 31044 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminOrderController' defined in file [E:\BE_QuanLyBanSach\target\classes\iuh\fit\controllers\AdminOrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in file [E:\BE_QuanLyBanSach\target\classes\iuh\fit\services\impl\OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderServiceImpl' defined in file [E:\BE_QuanLyBanSach\target\classes\iuh\fit\services\impl\OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 38 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 48 common frames omitted
Caused by: java.lang.IllegalArgumentException: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 60 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'imageName' of 'iuh.fit.entities.Product' [SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy159.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:88)
	... 66 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'imageName' of 'iuh.fit.entities.Product' [SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 73 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'imageName' of 'iuh.fit.entities.Product'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:199)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitLikePredicate(SemanticQueryBuilder.java:2721)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitLikePredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$LikePredicateContext.accept(HqlParser.java:6535)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitOrPredicate(SemanticQueryBuilder.java:2388)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitOrPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$OrPredicateContext.accept(HqlParser.java:6702)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 78 common frames omitted

2025-12-04T11:32:57.322+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 36992 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T11:32:57.326+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T11:32:59.247+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T11:32:59.364+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 7 JPA repository interfaces.
2025-12-04T11:33:00.378+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T11:33:00.403+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T11:33:00.404+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T11:33:00.475+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T11:33:00.476+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3088 ms
2025-12-04T11:33:00.765+07:00 DEBUG 36992 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T11:33:01.465+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T11:33:01.519+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T11:33:01.674+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@54caeadc
2025-12-04T11:33:01.677+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T11:33:03.158+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:33:03.500+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T11:33:05.815+07:00  WARN 36992 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminOrderController' defined in URL [jar:nested:/E:/BE_QuanLyBanSach/target/SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/iuh/fit/controllers/AdminOrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in URL [jar:nested:/E:/BE_QuanLyBanSach/target/SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/iuh/fit/services/impl/OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
2025-12-04T11:33:05.817+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:33:05.822+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T11:33:05.829+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T11:33:05.833+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T11:33:05.870+07:00  INFO 36992 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T11:33:05.894+07:00 ERROR 36992 --- [SpringRestApiQuanLyBanSach] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminOrderController' defined in URL [jar:nested:/E:/BE_QuanLyBanSach/target/SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/iuh/fit/controllers/AdminOrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in URL [jar:nested:/E:/BE_QuanLyBanSach/target/SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/iuh/fit/services/impl/OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:106)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderServiceImpl' defined in URL [jar:nested:/E:/BE_QuanLyBanSach/target/SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/iuh/fit/services/impl/OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 28 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in iuh.fit.repositories.ProductRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 42 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String); Reason: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 52 common frames omitted
Caused by: java.lang.IllegalArgumentException: Query 'SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword' validation failed for method public abstract java.util.List iuh.fit.repositories.ProductRepository.search(java.lang.String)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 64 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'imageName' of 'iuh.fit.entities.Product' [SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy155.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:88)
	... 70 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'imageName' of 'iuh.fit.entities.Product' [SELECT p FROM Product p WHERE p.title LIKE :keyword OR p.description LIKE :keyword OR p.imageName LIKE :keyword]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 78 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'imageName' of 'iuh.fit.entities.Product'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:199)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitLikePredicate(SemanticQueryBuilder.java:2721)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitLikePredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$LikePredicateContext.accept(HqlParser.java:6535)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitOrPredicate(SemanticQueryBuilder.java:2388)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitOrPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$OrPredicateContext.accept(HqlParser.java:6702)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 83 common frames omitted

2025-12-04T11:33:50.234+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 38340 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T11:33:50.238+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T11:33:52.093+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T11:33:52.216+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 7 JPA repository interfaces.
2025-12-04T11:33:53.202+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T11:33:53.218+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T11:33:53.218+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T11:33:53.268+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T11:33:53.268+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2971 ms
2025-12-04T11:33:53.533+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T11:33:54.210+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T11:33:54.277+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T11:33:54.441+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@516b84d1
2025-12-04T11:33:54.443+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T11:33:56.014+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:33:56.349+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T11:33:59.473+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T11:33:59.671+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T11:33:59.757+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T11:33:59.937+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T11:34:00.006+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T11:34:00.008+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T11:34:00.371+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T11:34:00.443+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T11:34:00.847+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T11:34:00.871+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.504 seconds (process running for 12.136)
2025-12-04T11:34:02.811+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T11:34:02.812+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T11:34:02.812+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T11:34:02.813+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T11:34:02.813+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T11:34:02.817+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@781e2388
2025-12-04T11:34:02.819+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7df8d3
2025-12-04T11:34:02.820+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T11:34:02.821+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-12-04T11:34:02.943+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-12-04T11:34:02.952+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:34:03.025+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.116+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-04T11:34:03.118+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:34:03.125+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.128+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-04T11:34:03.128+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-04T11:34:03.130+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:34:03.131+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-04T11:34:03.133+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:34:03.133+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:34:03.140+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.152+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.css", parameters={}
2025-12-04T11:34:03.153+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:34:03.162+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.176+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.273+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.577+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-12-04T11:34:03.579+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-04T11:34:03.611+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-12-04T11:34:03.653+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8081/swagger-ui/oauth2-re (truncated)...]
2025-12-04T11:34:03.659+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:34:03.674+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-12-04T11:34:03.675+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-04T11:34:04.913+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1213 ms
2025-12-04T11:34:04.982+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-04T11:34:04.990+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-04T11:34:04.993+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:39:49.800+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 33928 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T11:39:49.802+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T11:39:49.858+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T11:39:49.858+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T11:39:50.845+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T11:39:50.906+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 7 JPA repository interfaces.
2025-12-04T11:39:51.397+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T11:39:51.407+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T11:39:51.408+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T11:39:51.446+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T11:39:51.446+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1587 ms
2025-12-04T11:39:51.592+07:00 DEBUG 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T11:39:51.963+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T11:39:51.987+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T11:39:52.069+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@7fbac890
2025-12-04T11:39:52.070+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T11:39:53.042+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:39:53.236+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T11:39:55.445+07:00  WARN 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T11:39:55.575+07:00 DEBUG 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T11:39:55.624+07:00 DEBUG 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T11:39:55.742+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T11:39:55.795+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T11:39:55.796+07:00  WARN 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T11:39:55.994+07:00 DEBUG 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T11:39:56.040+07:00 DEBUG 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T11:39:56.267+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T11:39:56.331+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T11:39:56.345+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 7.094 seconds (process running for 7.447)
2025-12-04T11:40:02.324+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T11:40:02.337+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T11:40:02.344+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:40:02.346+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T11:40:02.350+07:00  INFO 33928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T11:40:21.824+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 4812 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T11:40:21.827+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T11:40:23.350+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T11:40:23.445+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 7 JPA repository interfaces.
2025-12-04T11:40:24.210+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T11:40:24.223+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T11:40:24.224+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T11:40:24.282+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T11:40:24.282+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2407 ms
2025-12-04T11:40:24.477+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T11:40:25.051+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T11:40:25.093+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T11:40:25.220+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2524d07a
2025-12-04T11:40:25.223+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T11:40:26.624+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T11:40:26.916+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T11:40:29.291+07:00  WARN 4812 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T11:40:29.465+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T11:40:29.534+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T11:40:29.708+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T11:40:29.804+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T11:40:29.806+07:00  WARN 4812 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T11:40:30.085+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T11:40:30.147+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T11:40:30.478+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T11:40:30.504+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 9.532 seconds (process running for 10.046)
2025-12-04T11:40:35.807+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T11:40:35.809+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T11:40:35.810+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T11:40:35.810+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T11:40:35.810+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T11:40:35.811+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@672f5697
2025-12-04T11:40:35.812+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@781e2388
2025-12-04T11:40:35.813+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T11:40:35.814+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-12-04T11:40:35.885+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T11:40:35.887+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T11:40:35.990+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T11:40:36.137+07:00  WARN 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] iuh.fit.controllers.AuthController       : Login failed: Username ho?c password khng ?ng
2025-12-04T11:40:36.157+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:40:36.161+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=401, message=Username ho?c password khng ?ng, error=UNAUTHORIZED}]
2025-12-04T11:40:36.187+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-12-04T11:41:08.926+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T11:41:08.927+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T11:41:08.928+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T11:41:08.993+07:00  WARN 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] iuh.fit.controllers.AuthController       : Login failed: Username ho?c password khng ?ng
2025-12-04T11:41:08.994+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:41:08.995+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=401, message=Username ho?c password khng ?ng, error=UNAUTHORIZED}]
2025-12-04T11:41:08.997+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-12-04T11:41:27.131+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-12-04T11:41:27.133+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T11:41:27.152+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:41:33.957+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/categories", parameters={}
2025-12-04T11:41:33.957+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.CategoryController#getCategories()
2025-12-04T11:41:34.020+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:41:34.021+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[CategoryDTO(id=1, name=Sch V?n H?c, imageName=null, isActive=true), CategoryDTO( (truncated)...]
2025-12-04T11:41:34.030+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:42:50.486+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T11:42:50.487+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T11:42:50.492+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T11:42:50.573+07:00  WARN 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] iuh.fit.controllers.AuthController       : Login failed: Username ho?c password khng ?ng
2025-12-04T11:42:50.574+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:42:50.575+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=401, message=Username ho?c password khng ?ng, error=UNAUTHORIZED}]
2025-12-04T11:42:50.577+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-12-04T11:43:07.424+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T11:43:07.425+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T11:43:07.426+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=newpass123)]
2025-12-04T11:43:07.633+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T11:43:07.635+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:43:07.636+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T11:43:07.639+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T11:49:20.701+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/products", parameters={multipart}
2025-12-04T11:49:20.747+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#saveProduct(String, String, Double, Double, Integer, Integer, Boolean, Integer, MultipartFile[])
2025-12-04T11:49:20.907+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:49:20.915+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=201, data=ProductDTO(id=30, title=Sch Python C? B?n, description=H??ng d?n l?p trnh Python (truncated)...]
2025-12-04T11:49:20.933+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-04T11:50:00.474+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/products", parameters={multipart}
2025-12-04T11:50:00.484+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#saveProduct(String, String, Double, Double, Integer, Integer, Boolean, Integer, MultipartFile[])
2025-12-04T11:50:00.513+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:50:00.517+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=201, data=ProductDTO(id=31, title=Sch Python C? B?n, description=H??ng d?n l?p trnh Python (truncated)...]
2025-12-04T11:50:00.525+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-04T11:53:18.460+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/products", parameters={multipart}
2025-12-04T11:53:18.479+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#saveProduct(String, String, Double, Double, Integer, Integer, Boolean, Integer, MultipartFile[])
2025-12-04T11:53:18.505+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T11:53:18.507+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=201, data=ProductDTO(id=32, title=Sch Python C? B?n, description=H??ng d?n l?p trnh Python (truncated)...]
2025-12-04T11:53:18.515+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-04T12:02:30.202+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : DELETE "/products/1", parameters={}
2025-12-04T12:02:30.203+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:02:30.210+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2025-12-04T12:03:28.305+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : DELETE "/products/32", parameters={}
2025-12-04T12:03:28.305+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:03:28.348+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:03:28.349+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:03:28.350+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:04:08.459+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/products/31?ids=30&ids=29", parameters={masked}
2025-12-04T12:04:08.460+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:04:08.472+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:04:08.473+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:04:08.475+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:04:22.646+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/products/31?ids=30&ids=29", parameters={masked}
2025-12-04T12:04:22.647+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:04:22.651+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [iuh.fit.exceptions.ItemNotFoundException: Khng tm th?y s?n ph?m c ID: 31]
2025-12-04T12:04:22.652+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-04T12:04:43.403+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products/31?ids=30&ids=29", parameters={masked}
2025-12-04T12:04:43.404+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:04:43.409+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [iuh.fit.exceptions.ItemNotFoundException: Khng tm th?y s?n ph?m c ID: 31]
2025-12-04T12:04:43.410+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-04T12:04:49.665+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:04:49.665+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:04:49.665+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=newpass123)]
2025-12-04T12:04:49.740+07:00  INFO 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T12:04:49.740+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:04:49.740+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T12:04:49.741+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:05:18.066+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/products/30?ids=29", parameters={masked}
2025-12-04T12:05:18.066+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:05:18.076+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:05:18.076+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:05:18.077+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:05:37.541+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/products/28?ids=27", parameters={masked}
2025-12-04T12:05:37.546+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:05:37.593+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:05:37.593+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:05:37.595+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:06:10.379+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : DELETE "/products/26?ids=25", parameters={masked}
2025-12-04T12:06:10.380+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:06:10.409+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:06:10.410+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:06:10.411+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:06:48.724+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/products/27", parameters={}
2025-12-04T12:06:48.725+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:06:48.745+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:06:48.746+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:06:48.748+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:06:58.855+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : DELETE "/products/25", parameters={}
2025-12-04T12:06:58.855+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:06:58.863+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:06:58.864+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:06:58.865+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:07:35.874+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : DELETE "/products/24?ids=23", parameters={masked}
2025-12-04T12:07:35.875+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:07:35.891+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:07:35.891+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:07:35.892+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:08:44.024+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products/23?ids=22&ids=21", parameters={masked}
2025-12-04T12:08:44.025+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(int)
2025-12-04T12:08:44.039+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:08:44.039+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:08:44.040+07:00 DEBUG 4812 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:12:26.471+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 1560 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:12:26.474+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:12:28.165+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:12:28.268+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 7 JPA repository interfaces.
2025-12-04T12:12:29.329+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:12:29.347+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:12:29.348+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:12:29.406+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:12:29.406+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2863 ms
2025-12-04T12:12:29.694+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:12:30.447+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:12:30.512+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:12:30.745+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@554d040d
2025-12-04T12:12:30.750+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:12:32.427+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:12:32.783+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:12:35.762+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:12:35.962+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:12:36.060+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:12:36.251+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:12:36.331+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:12:36.332+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:12:36.716+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:12:36.792+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:12:37.223+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:12:37.256+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.681 seconds (process running for 12.288)
2025-12-04T12:12:57.240+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:12:57.241+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:12:57.242+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:12:57.242+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:12:57.242+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:12:57.244+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a0bc4cc
2025-12-04T12:12:57.245+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@289656c6
2025-12-04T12:12:57.246+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:12:57.247+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-12-04T12:12:57.644+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/products/22", parameters={}
2025-12-04T12:12:57.653+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:12:57.654+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:13:03.781+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:13:03.782+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:13:03.886+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=newpass123)]
2025-12-04T12:13:04.104+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T12:13:04.113+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:13:04.116+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T12:13:04.143+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:13:20.356+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products/22", parameters={}
2025-12-04T12:13:20.357+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:13:20.358+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:13:52.108+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/products/22", parameters={}
2025-12-04T12:13:52.109+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:13:52.109+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:14:02.330+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/products/21", parameters={}
2025-12-04T12:14:02.331+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:14:02.331+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:14:19.881+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/products", parameters={multipart}
2025-12-04T12:14:19.926+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#saveProduct(String, String, Double, Double, Integer, Integer, Boolean, Integer, MultipartFile[])
2025-12-04T12:14:20.143+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:14:20.149+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=201, data=ProductDTO(id=33, title=Sch Python C? B?n, description=H??ng d?n l?p trnh Python (truncated)...]
2025-12-04T12:14:20.167+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-04T12:14:32.202+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : DELETE "/products/21", parameters={}
2025-12-04T12:14:32.203+07:00  WARN 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:14:32.203+07:00 DEBUG 1560 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:14:46.725+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:14:46.848+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:14:46.855+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:14:46.858+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:14:46.868+07:00  INFO 1560 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:15:18.702+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 30984 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:15:18.706+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:15:20.562+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:15:20.656+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 7 JPA repository interfaces.
2025-12-04T12:15:21.567+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:15:21.583+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:15:21.583+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:15:21.641+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:15:21.642+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2869 ms
2025-12-04T12:15:21.905+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:15:22.562+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:15:22.618+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:15:22.879+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@608eb42e
2025-12-04T12:15:22.881+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:15:24.363+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:15:24.747+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:15:27.549+07:00  WARN 30984 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:15:27.818+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:15:27.927+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:15:28.109+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:15:28.194+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:15:28.195+07:00  WARN 30984 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:15:28.593+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:15:28.665+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:15:29.067+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:15:29.096+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.382 seconds (process running for 11.925)
2025-12-04T12:15:36.394+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:15:36.395+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:15:36.395+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:15:36.395+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:15:36.395+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:15:36.396+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@289656c6
2025-12-04T12:15:36.397+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@42ba9b22
2025-12-04T12:15:36.398+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:15:36.398+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T12:15:36.732+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/products/33", parameters={}
2025-12-04T12:15:36.736+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:15:36.992+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:15:36.995+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T12:15:37.045+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:16:30.801+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=22&ids=21&ids=20", parameters={masked}
2025-12-04T12:16:30.802+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:16:30.820+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:16:30.822+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 3 s?n ph?m thnh cng}]
2025-12-04T12:16:30.826+07:00 DEBUG 30984 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:28:20.768+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:28:20.908+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:28:20.916+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:28:20.920+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:28:20.924+07:00  INFO 30984 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:29:47.636+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 18028 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:29:47.638+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:29:47.672+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:29:47.672+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:29:48.436+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:29:48.512+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 7 JPA repository interfaces.
2025-12-04T12:29:48.979+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:29:48.988+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:29:48.989+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:29:49.029+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:29:49.030+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1357 ms
2025-12-04T12:29:49.152+07:00 DEBUG 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:29:49.491+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:29:49.513+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:29:49.594+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3ccefea
2025-12-04T12:29:49.595+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:29:50.443+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:29:50.621+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:29:52.599+07:00  WARN 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:29:52.706+07:00 DEBUG 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:29:52.755+07:00 DEBUG 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:29:52.862+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:29:52.902+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:29:52.903+07:00  WARN 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:29:53.063+07:00 DEBUG 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:29:53.105+07:00 DEBUG 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:29:53.310+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:29:53.371+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:29:53.382+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.116 seconds (process running for 6.427)
2025-12-04T12:30:38.586+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:30:38.597+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:30:38.604+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:30:38.607+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:30:38.612+07:00  INFO 18028 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:30:48.273+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 29812 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:30:48.274+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:30:48.309+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:30:48.309+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:30:49.119+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:30:49.179+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
2025-12-04T12:30:49.633+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:30:49.644+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:30:49.644+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:30:49.685+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:30:49.685+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1375 ms
2025-12-04T12:30:49.809+07:00 DEBUG 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:30:50.144+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:30:50.166+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:30:50.249+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@7678abc3
2025-12-04T12:30:50.252+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:30:51.162+07:00  WARN 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK64t7ox312pqal3p7fg9o503c2' at line 1
2025-12-04T12:30:51.182+07:00  WARN 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKhmsk25beh6atojvle1xuymjj0' at line 1
2025-12-04T12:30:51.195+07:00  WARN 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK6dotkott2kjsp8vw4d0m25fb7' at line 1
2025-12-04T12:30:51.212+07:00  WARN 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKr43af9ap4edm43mmtq01oddj6' at line 1
2025-12-04T12:30:51.505+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:30:51.768+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:30:53.669+07:00  WARN 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:30:53.775+07:00 DEBUG 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:30:53.818+07:00 DEBUG 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:30:53.912+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:30:53.955+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:30:53.956+07:00  WARN 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:30:54.116+07:00 DEBUG 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:30:54.156+07:00 DEBUG 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:30:54.360+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:30:54.420+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:30:54.432+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.552 seconds (process running for 6.887)
2025-12-04T12:32:30.847+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:32:30.860+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:32:30.866+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:32:30.869+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:32:30.873+07:00  INFO 29812 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:33:09.547+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 38140 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:33:09.551+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:33:11.426+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:33:11.524+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 7 JPA repository interfaces.
2025-12-04T12:33:12.410+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:33:12.432+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:33:12.434+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:33:12.506+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:33:12.506+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2890 ms
2025-12-04T12:33:12.729+07:00 DEBUG 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:33:13.295+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:33:13.353+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:33:13.484+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@663622b1
2025-12-04T12:33:13.486+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:33:15.158+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T12:33:15.160+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T12:33:15.161+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T12:33:15.162+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T12:33:15.164+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T12:33:15.165+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T12:33:15.167+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T12:33:15.168+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T12:33:15.213+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'products_ibfk_1' on table 'products'.
2025-12-04T12:33:15.215+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'orders_ibfk_1' on table 'orders'.
2025-12-04T12:33:15.296+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'categories' already exists
2025-12-04T12:33:15.298+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'order_addresses' already exists
2025-12-04T12:33:15.682+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:33:15.995+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:33:19.051+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:33:19.304+07:00 DEBUG 38140 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:33:19.388+07:00 DEBUG 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:33:19.584+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:33:19.655+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:33:19.657+07:00  WARN 38140 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:33:19.929+07:00 DEBUG 38140 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:33:20.008+07:00 DEBUG 38140 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:33:20.414+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:33:20.443+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.716 seconds (process running for 12.287)
2025-12-04T12:35:54.388+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:35:54.516+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:35:54.521+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:35:54.524+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:35:54.528+07:00  INFO 38140 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:36:02.408+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 9768 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:36:02.410+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:36:02.444+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:36:02.445+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:36:03.375+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:36:03.437+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2025-12-04T12:36:03.893+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:36:03.903+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:36:03.903+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:36:03.943+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:36:03.944+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1498 ms
2025-12-04T12:36:04.070+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:36:04.449+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:36:04.471+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:36:04.557+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3b1a7a66
2025-12-04T12:36:04.558+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:36:05.508+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK64t7ox312pqal3p7fg9o503c2' at line 1
2025-12-04T12:36:05.526+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKhmsk25beh6atojvle1xuymjj0' at line 1
2025-12-04T12:36:05.539+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK6dotkott2kjsp8vw4d0m25fb7' at line 1
2025-12-04T12:36:05.551+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKr43af9ap4edm43mmtq01oddj6' at line 1
2025-12-04T12:36:05.907+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:36:06.092+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:36:08.157+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:36:08.278+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:36:08.330+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:36:08.426+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:36:08.478+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:36:08.479+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:36:08.652+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:36:08.705+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:36:08.939+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:36:09.004+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:36:09.017+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 7.006 seconds (process running for 7.314)
2025-12-04T12:37:52.529+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:37:52.529+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:37:52.530+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:37:52.530+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:37:52.530+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:37:52.531+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@449814e8
2025-12-04T12:37:52.531+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5b22d76a
2025-12-04T12:37:52.532+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:37:52.532+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-04T12:37:52.573+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:37:52.576+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:37:52.646+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=newpass123)]
2025-12-04T12:37:52.663+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.m.jdbc.message.server.ErrorPacket      : Error: 1054-42S22: Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:37:52.666+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:37:52.673+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]
2025-12-04T12:37:52.675+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]] with root cause

java.sql.SQLSyntaxErrorException: (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:292)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:91)
	at org.mariadb.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy164.findByUsername(Unknown Source)
	at iuh.fit.controllers.AuthController.login(AuthController.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:34)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T12:38:11.667+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:38:11.668+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:38:11.669+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=newpass123)]
2025-12-04T12:38:11.671+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.m.jdbc.message.server.ErrorPacket      : Error: 1054-42S22: Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:11.672+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:11.673+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]
2025-12-04T12:38:11.674+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]] with root cause

java.sql.SQLSyntaxErrorException: (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:292)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:91)
	at org.mariadb.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy164.findByUsername(Unknown Source)
	at iuh.fit.controllers.AuthController.login(AuthController.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:34)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T12:38:17.586+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:38:17.586+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:38:17.587+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:38:17.589+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.m.jdbc.message.server.ErrorPacket      : Error: 1054-42S22: Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:17.590+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:17.591+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]
2025-12-04T12:38:17.592+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]] with root cause

java.sql.SQLSyntaxErrorException: (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:292)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:91)
	at org.mariadb.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy164.findByUsername(Unknown Source)
	at iuh.fit.controllers.AuthController.login(AuthController.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:34)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T12:38:33.818+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:38:33.819+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:38:33.820+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:38:33.823+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1054-42S22: Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:33.824+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:33.825+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]
2025-12-04T12:38:33.826+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]] with root cause

java.sql.SQLSyntaxErrorException: (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:292)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:91)
	at org.mariadb.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy164.findByUsername(Unknown Source)
	at iuh.fit.controllers.AuthController.login(AuthController.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:34)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T12:38:55.260+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:38:55.260+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:38:55.260+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:38:55.263+07:00  WARN 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.m.jdbc.message.server.ErrorPacket      : Error: 1054-42S22: Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:55.264+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
2025-12-04T12:38:55.264+07:00 DEBUG 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]
2025-12-04T12:38:55.265+07:00 ERROR 9768 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.address,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.is_active,u1_0.password,u1_0.phone_number,u1_0.reset_token,u1_0.reset_token_expiry,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?] [(conn=1354) Unknown column 'u1_0.reset_token' in 'field list'] [n/a]; SQL [n/a]] with root cause

java.sql.SQLSyntaxErrorException: (conn=1354) Unknown column 'u1_0.reset_token' in 'field list'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:292)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:91)
	at org.mariadb.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:226)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy164.findByUsername(Unknown Source)
	at iuh.fit.controllers.AuthController.login(AuthController.java:53)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:34)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T12:39:09.979+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:39:09.990+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:39:09.998+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:39:10.002+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:39:10.006+07:00  INFO 9768 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:39:12.246+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 32740 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:39:12.249+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:39:13.946+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:39:14.065+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 7 JPA repository interfaces.
2025-12-04T12:39:14.860+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:39:14.875+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:39:14.875+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:39:14.914+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:39:14.914+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2609 ms
2025-12-04T12:39:15.137+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:39:15.683+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:39:15.720+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:39:15.865+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@309e3f34
2025-12-04T12:39:15.867+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:39:17.202+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T12:39:17.203+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T12:39:17.203+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T12:39:17.204+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T12:39:17.204+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T12:39:17.204+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T12:39:17.204+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T12:39:17.205+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T12:39:17.225+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'products_ibfk_1' on table 'products'.
2025-12-04T12:39:17.225+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'orders_ibfk_1' on table 'orders'.
2025-12-04T12:39:17.289+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'categories' already exists
2025-12-04T12:39:17.290+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'order_addresses' already exists
2025-12-04T12:39:17.637+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:39:17.922+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:39:20.795+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:39:20.995+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:39:21.072+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:39:21.237+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:39:21.295+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:39:21.296+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:39:21.617+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:39:21.701+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:39:22.084+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:39:22.110+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 10.728 seconds (process running for 11.267)
2025-12-04T12:39:51.097+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:39:51.098+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:39:51.098+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:39:51.098+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:39:51.098+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:39:51.100+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@30559e92
2025-12-04T12:39:51.100+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7506e95a
2025-12-04T12:39:51.100+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:39:51.100+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-04T12:39:51.156+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:39:51.158+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:39:51.265+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:39:51.527+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T12:39:51.543+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:39:51.547+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T12:39:51.576+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:40:56.767+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=22&ids=21&ids=20", parameters={masked}
2025-12-04T12:40:56.768+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:40:56.836+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:40:56.836+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 3 s?n ph?m thnh cng}]
2025-12-04T12:40:56.837+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:41:01.146+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:41:01.147+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:41:01.147+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:41:01.150+07:00  WARN 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] iuh.fit.controllers.AuthController       : Login failed: Username ho?c password khng ?ng
2025-12-04T12:41:01.152+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:41:01.152+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=401, message=Username ho?c password khng ?ng, error=UNAUTHORIZED}]
2025-12-04T12:41:01.153+07:00 DEBUG 32740 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-12-04T12:43:54.841+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:43:54.964+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:43:54.971+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:43:54.972+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:43:54.977+07:00  INFO 32740 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:44:04.593+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 16988 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:44:04.595+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:44:04.627+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:44:04.628+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:44:05.446+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:44:05.519+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 7 JPA repository interfaces.
2025-12-04T12:44:06.126+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:44:06.136+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:44:06.137+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:44:06.187+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:44:06.188+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1559 ms
2025-12-04T12:44:06.327+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:44:06.775+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:44:06.799+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:44:06.882+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4ad21409
2025-12-04T12:44:06.885+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:44:07.728+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:44:07.912+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:44:09.840+07:00  WARN 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:44:09.942+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:44:09.986+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:44:10.087+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:44:10.135+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:44:10.135+07:00  WARN 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:44:10.298+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:44:10.338+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:44:10.601+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:44:10.658+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:44:10.670+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.51 seconds (process running for 7.005)
2025-12-04T12:44:33.005+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:44:33.005+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:44:33.006+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:44:33.006+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:44:33.006+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:44:33.007+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@621bc5b0
2025-12-04T12:44:33.008+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@54a02d7f
2025-12-04T12:44:33.009+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:44:33.009+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T12:44:33.047+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/products", parameters={}
2025-12-04T12:44:33.049+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#getProducts()
2025-12-04T12:44:33.164+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:44:33.169+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[ProductDTO(id=1, title=C Gi n T Hn Quc, description=Tc phm lng mn v t (truncated)...]
2025-12-04T12:44:33.221+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:44:38.834+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:44:38.834+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:44:38.861+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:44:39.022+07:00  INFO 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T12:44:39.024+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:44:39.024+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=ng nhp thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T12:44:39.027+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:45:05.730+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=28&ids=27&ids=26", parameters={masked}
2025-12-04T12:45:05.730+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:45:05.761+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:45:05.762+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 3 sn phm thnh cng}]
2025-12-04T12:45:05.763+07:00 DEBUG 16988 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:50:00.787+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:50:00.789+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:50:00.820+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:50:00.821+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:50:01.804+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:50:01.867+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2025-12-04T12:50:02.365+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:50:02.377+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:50:02.377+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:50:02.428+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:50:02.429+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1607 ms
2025-12-04T12:50:02.576+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:50:02.921+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:50:02.946+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:50:03.024+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@24023f5a
2025-12-04T12:50:03.026+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:50:04.041+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:50:04.233+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:50:06.379+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:50:06.483+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:50:06.524+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:50:06.632+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:50:06.673+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:50:06.674+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:50:06.833+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:50:06.876+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:50:07.078+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:50:07.138+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:50:07.150+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.733 seconds (process running for 7.041)
2025-12-04T12:50:11.433+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:50:11.433+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:50:11.434+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:50:11.434+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:50:11.434+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:50:11.435+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6b15ab76
2025-12-04T12:50:11.436+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@70a252f5
2025-12-04T12:50:11.436+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:50:11.436+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-04T12:50:11.611+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=25&ids=24&ids=23", parameters={masked}
2025-12-04T12:50:11.616+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:50:11.617+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:50:16.315+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:50:16.316+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:50:16.376+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T12:50:16.516+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T12:50:16.523+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:50:16.525+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=ng nhp thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T12:50:16.542+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:50:29.233+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/products", parameters={}
2025-12-04T12:50:29.233+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#getProducts()
2025-12-04T12:50:29.341+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:50:29.347+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[ProductDTO(id=1, title=C Gi n T Hn Quc, description=Tc phm lng mn v t (truncated)...]
2025-12-04T12:50:29.362+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:50:40.927+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=25&ids=24&ids=23", parameters={masked}
2025-12-04T12:50:40.929+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:50:40.929+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:50:49.742+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=25&ids=24&ids=23", parameters={masked}
2025-12-04T12:50:49.743+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:50:49.743+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:51:06.412+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=25&ids=24&ids=23", parameters={masked}
2025-12-04T12:51:06.413+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2025-12-04T12:51:06.413+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-12-04T12:51:22.915+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:51:22.918+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:51:22.929+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:51:22.936+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:51:22.939+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:51:22.943+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:51:23.048+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:51:23.049+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:51:23.384+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:51:23.418+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
2025-12-04T12:51:23.549+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:51:23.549+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:51:23.550+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:51:23.565+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:51:23.566+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 514 ms
2025-12-04T12:51:23.645+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:51:23.689+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:51:23.691+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-04T12:51:23.695+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@27c57c85
2025-12-04T12:51:23.695+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-04T12:51:23.885+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:51:24.209+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:51:24.263+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:51:24.293+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:51:24.347+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:51:24.377+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:51:24.378+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:51:24.470+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:51:24.484+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:51:24.583+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:51:24.596+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:51:24.604+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.593 seconds (process running for 84.495)
2025-12-04T12:51:24.636+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:51:26.716+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:51:26.717+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:51:26.717+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:51:26.717+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:51:26.717+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:51:26.719+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7091db8a
2025-12-04T12:51:26.719+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@37a9f402
2025-12-04T12:51:26.719+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:51:26.720+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T12:51:26.726+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=25&ids=24&ids=23", parameters={masked}
2025-12-04T12:51:26.726+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:51:26.792+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:51:26.793+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 3 sn phm thnh cng}]
2025-12-04T12:51:26.795+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:51:32.139+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:51:32.141+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:51:32.156+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:51:32.162+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:51:32.162+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-04T12:51:32.165+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-04T12:51:32.282+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:51:32.283+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:51:32.655+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:51:32.687+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2025-12-04T12:51:32.803+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:51:32.804+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:51:32.805+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:51:32.821+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:51:32.821+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 536 ms
2025-12-04T12:51:32.889+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:51:32.956+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:51:32.958+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-04T12:51:32.977+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@336ff920
2025-12-04T12:51:32.978+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-04T12:51:33.137+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:51:33.513+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:51:33.573+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:51:33.608+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:51:33.667+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:51:33.719+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:51:33.721+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:51:33.832+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:51:33.852+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:51:33.964+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:51:33.983+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:51:33.990+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.754 seconds (process running for 93.882)
2025-12-04T12:51:34.021+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:51:53.305+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:51:53.305+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:51:53.305+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:51:53.306+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:51:53.306+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:51:53.307+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1ca4973c
2025-12-04T12:51:53.307+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@58927c96
2025-12-04T12:51:53.307+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:51:53.307+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-04T12:51:53.313+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=19&ids=18&ids=17", parameters={masked}
2025-12-04T12:51:53.314+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:51:53.333+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.m.jdbc.message.server.ErrorPacket      : Error: 1451-23000: Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:51:53.336+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1404) Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:51:53.345+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:51:53.346+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:51:53.347+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:52:03.828+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=19&ids=18&ids=17", parameters={masked}
2025-12-04T12:52:03.828+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:52:03.835+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.m.jdbc.message.server.ErrorPacket      : Error: 1451-23000: Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:03.836+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1404) Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:03.838+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:52:03.839+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:52:03.839+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:52:10.346+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=19&ids=18", parameters={masked}
2025-12-04T12:52:10.347+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:52:10.367+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:52:10.367+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 2 sn phm thnh cng}]
2025-12-04T12:52:10.368+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T12:52:20.931+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=17&ids=16", parameters={masked}
2025-12-04T12:52:20.932+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:52:20.938+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1451-23000: Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:20.939+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1404) Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:20.955+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:52:20.955+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:52:20.956+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:52:38.445+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=15&ids=14", parameters={masked}
2025-12-04T12:52:38.446+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:52:38.450+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.m.jdbc.message.server.ErrorPacket      : Error: 1451-23000: Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:38.451+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1404) Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:38.459+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:52:38.459+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:52:38.460+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:52:44.338+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=15&ids=14", parameters={masked}
2025-12-04T12:52:44.338+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:52:44.344+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.m.jdbc.message.server.ErrorPacket      : Error: 1451-23000: Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:44.344+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=1404) Cannot delete or update a parent row: a foreign key constraint fails (`quanlybansach`.`cart_items`, CONSTRAINT `FK1re40cjegsfvw58xrkdp6bac6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`))
2025-12-04T12:52:44.347+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:52:44.347+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:52:44.348+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:52:54.885+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:52:54.886+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:52:54.899+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:52:54.903+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:52:54.904+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-04T12:52:54.906+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-04T12:52:55.016+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:52:55.017+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:52:55.271+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:52:55.288+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
2025-12-04T12:52:55.387+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:52:55.388+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:52:55.388+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:52:55.411+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:52:55.412+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 392 ms
2025-12-04T12:52:55.466+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:52:55.516+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:52:55.517+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-12-04T12:52:55.521+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection org.mariadb.jdbc.Connection@5ec0caac
2025-12-04T12:52:55.521+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-12-04T12:52:55.629+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:52:55.893+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:52:55.939+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:52:55.972+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:52:56.024+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:52:56.054+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:52:56.055+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:52:56.127+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:52:56.140+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:52:56.234+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:52:56.251+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:52:56.259+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.281 seconds (process running for 176.15)
2025-12-04T12:52:56.290+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:53:55.707+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:53:55.709+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:53:55.719+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:53:55.722+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:53:55.723+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-12-04T12:53:55.727+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-12-04T12:53:55.857+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:53:55.857+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:53:56.127+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:53:56.144+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 7 JPA repository interfaces.
2025-12-04T12:53:56.253+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:53:56.254+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:53:56.254+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:53:56.276+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:53:56.276+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 416 ms
2025-12-04T12:53:56.329+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:53:56.379+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:53:56.381+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-12-04T12:53:56.386+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection org.mariadb.jdbc.Connection@3ff51b91
2025-12-04T12:53:56.386+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-12-04T12:53:56.535+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:53:56.854+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:53:56.901+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:53:56.930+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:53:57.018+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:53:57.048+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:53:57.049+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:53:57.129+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:53:57.145+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:53:57.251+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:53:57.272+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:53:57.279+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.455 seconds (process running for 237.171)
2025-12-04T12:53:57.311+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:01.747+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:54:01.748+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-19] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:54:01.757+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:54:01.759+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-19] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:01.760+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-12-04T12:54:01.762+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-12-04T12:54:01.836+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:54:01.836+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:54:02.046+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:54:02.063+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
2025-12-04T12:54:02.155+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:54:02.155+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:54:02.155+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:54:02.169+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:54:02.170+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 333 ms
2025-12-04T12:54:02.216+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:54:02.259+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:54:02.259+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-12-04T12:54:02.264+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection org.mariadb.jdbc.Connection@f3603ed
2025-12-04T12:54:02.264+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-12-04T12:54:02.407+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:02.790+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:54:02.875+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:54:02.911+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:54:02.981+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:54:03.016+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:54:03.017+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:54:03.222+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:54:03.241+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:54:03.360+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:54:03.376+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:54:03.384+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.566 seconds (process running for 243.275)
2025-12-04T12:54:03.416+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:07.851+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:54:07.854+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-23] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:54:07.873+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:54:07.877+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-23] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:07.878+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-12-04T12:54:07.882+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-12-04T12:54:07.990+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:54:07.991+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:54:08.243+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:54:08.261+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 7 JPA repository interfaces.
2025-12-04T12:54:08.366+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:54:08.366+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:54:08.366+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:54:08.386+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:54:08.387+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 394 ms
2025-12-04T12:54:08.446+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:54:08.492+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:54:08.492+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-12-04T12:54:08.497+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection org.mariadb.jdbc.Connection@7040b2b5
2025-12-04T12:54:08.497+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-12-04T12:54:08.621+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:08.941+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:54:08.987+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:54:09.019+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:54:09.068+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:54:09.098+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:54:09.099+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:54:09.184+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:54:09.198+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:54:09.299+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:54:09.314+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:54:09.320+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.357 seconds (process running for 249.212)
2025-12-04T12:54:09.351+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:12.786+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:54:12.789+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-27] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:54:12.808+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:54:12.817+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-27] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:12.817+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-27] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-12-04T12:54:12.820+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-27] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-12-04T12:54:12.981+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:54:12.982+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:54:13.578+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:54:13.595+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
2025-12-04T12:54:13.724+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:54:13.725+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:54:13.725+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:54:13.738+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:54:13.739+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 754 ms
2025-12-04T12:54:13.785+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:54:13.821+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:54:13.822+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-12-04T12:54:13.835+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection org.mariadb.jdbc.Connection@575ddec5
2025-12-04T12:54:13.835+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-12-04T12:54:13.962+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:14.307+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:54:14.352+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:54:14.378+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:54:14.435+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:54:14.483+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:54:14.484+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:54:14.569+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:54:14.583+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:54:14.693+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:54:14.709+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:54:14.717+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.793 seconds (process running for 254.608)
2025-12-04T12:54:14.762+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:16.133+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-12-04T12:54:16.135+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-31] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:54:16.145+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:54:16.149+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-31] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:16.149+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-12-04T12:54:16.151+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-12-04T12:54:16.244+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:54:16.244+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:54:16.481+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:54:16.499+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
2025-12-04T12:54:16.607+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:54:16.608+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:54:16.608+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:54:16.623+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:54:16.623+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 378 ms
2025-12-04T12:54:16.676+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:54:16.719+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:54:16.720+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-12-04T12:54:16.725+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection org.mariadb.jdbc.Connection@6793ccd2
2025-12-04T12:54:16.725+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-12-04T12:54:16.849+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:17.129+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:54:17.174+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:54:17.202+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:54:17.259+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:54:17.289+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:54:17.290+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:54:17.379+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:54:17.394+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:54:17.559+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:54:17.574+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:54:17.582+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.359 seconds (process running for 257.473)
2025-12-04T12:54:17.613+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:20.058+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:54:20.062+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-35] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:54:20.080+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:54:20.089+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-35] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:20.091+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-12-04T12:54:20.097+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-12-04T12:54:20.197+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:54:20.197+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:54:20.404+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:54:20.421+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
2025-12-04T12:54:20.509+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:54:20.510+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:54:20.510+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:54:20.525+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:54:20.525+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 327 ms
2025-12-04T12:54:20.570+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:54:20.616+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:54:20.617+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-12-04T12:54:20.621+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection org.mariadb.jdbc.Connection@2924431e
2025-12-04T12:54:20.621+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-12-04T12:54:20.799+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:21.137+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:54:21.183+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:54:21.211+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:54:21.260+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:54:21.290+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:54:21.290+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:54:21.370+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:54:21.392+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:54:21.492+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:54:21.508+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:54:21.514+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.334 seconds (process running for 261.406)
2025-12-04T12:54:21.545+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:47.423+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T12:54:47.424+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-39] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:54:47.435+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:54:47.437+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-39] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:47.438+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-12-04T12:54:47.440+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-12-04T12:54:47.541+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:54:47.541+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:54:47.783+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:54:47.800+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
2025-12-04T12:54:47.902+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:54:47.902+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:54:47.903+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:54:47.919+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:54:47.919+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 376 ms
2025-12-04T12:54:48.017+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:54:48.072+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:54:48.073+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-12-04T12:54:48.081+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection org.mariadb.jdbc.Connection@70797f0
2025-12-04T12:54:48.081+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-12-04T12:54:48.178+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:54:48.524+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:54:48.575+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:54:48.606+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:54:48.663+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:54:48.698+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:54:48.699+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:54:48.790+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:54:48.811+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:54:48.942+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:54:48.963+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:54:48.971+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.459 seconds (process running for 288.863)
2025-12-04T12:54:49.002+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:54:59.169+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:54:59.169+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:54:59.169+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:54:59.170+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:54:59.170+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:54:59.171+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7f56e74b
2025-12-04T12:54:59.173+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2744a3f7
2025-12-04T12:54:59.173+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:54:59.173+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-04T12:54:59.181+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=17", parameters={masked}
2025-12-04T12:54:59.181+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:54:59.190+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:54:59.191+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:54:59.193+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:55:04.055+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=6", parameters={masked}
2025-12-04T12:55:04.056+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:55:04.057+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T12:55:04.057+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, data=Li khi xa sn phm}]
2025-12-04T12:55:04.058+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-04T12:55:36.486+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 22788 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:55:36.488+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:55:36.520+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:55:36.521+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:55:37.293+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:55:37.352+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 7 JPA repository interfaces.
2025-12-04T12:55:37.812+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:55:37.825+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:55:37.826+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:55:37.878+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:55:37.878+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1356 ms
2025-12-04T12:55:38.082+07:00 DEBUG 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:55:38.522+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:55:38.545+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:55:38.628+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@74d87384
2025-12-04T12:55:38.629+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:55:39.460+07:00 ERROR 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:55:39.460+07:00  WARN 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:55:39.462+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:55:39.465+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:55:39.467+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:55:39.482+07:00  INFO 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:55:39.496+07:00 ERROR 22788 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:55:50.100+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 13912 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:55:50.101+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:55:50.141+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:55:50.141+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:55:50.947+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:55:51.008+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2025-12-04T12:55:51.511+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:55:51.521+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:55:51.521+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:55:51.563+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:55:51.564+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1421 ms
2025-12-04T12:55:51.699+07:00 DEBUG 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:55:52.100+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:55:52.124+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:55:52.201+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@7681eba8
2025-12-04T12:55:52.202+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:55:53.020+07:00 ERROR 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:55:53.021+07:00  WARN 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:55:53.022+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:55:53.025+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:55:53.028+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:55:53.047+07:00  INFO 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:55:53.067+07:00 ERROR 13912 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:56:28.505+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 82 class path changes (0 additions, 81 deletions, 1 modification)
2025-12-04T12:56:28.509+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-43] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:56:28.526+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:56:28.531+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-43] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:56:28.532+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-12-04T12:56:28.538+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-12-04T12:56:28.697+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:56:28.699+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:56:29.226+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:56:29.228+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-12-04T12:56:29.366+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:56:29.367+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:56:29.368+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:56:29.396+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:56:29.396+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 695 ms
2025-12-04T12:56:29.457+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:56:29.496+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:56:29.496+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-12-04T12:56:29.503+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection org.mariadb.jdbc.Connection@4b661618
2025-12-04T12:56:29.504+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-12-04T12:56:29.523+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:56:29.573+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:56:29.607+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:56:29.666+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:56:29.677+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:56:29.689+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:56:30.027+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 93637040-6143-4332-85d1-be0457fd5166

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-04T12:56:30.031+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-04T12:56:30.097+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:56:30.230+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:56:30.257+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:56:30.280+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.626 seconds (process running for 390.171)
2025-12-04T12:56:30.290+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper matched:
      - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T12:56:33.091+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 53 class path changes (53 additions, 0 deletions, 0 modifications)
2025-12-04T12:56:33.093+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-47] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:56:33.104+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:56:33.106+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-47] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:56:33.107+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-47] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2025-12-04T12:56:33.109+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-47] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2025-12-04T12:56:33.214+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:56:33.215+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:56:33.468+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:56:33.476+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-12-04T12:56:33.589+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:56:33.591+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:56:33.591+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:56:33.618+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:56:33.619+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 403 ms
2025-12-04T12:56:33.672+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:56:33.715+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:56:33.716+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2025-12-04T12:56:33.721+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection org.mariadb.jdbc.Connection@c6830e2
2025-12-04T12:56:33.722+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2025-12-04T12:56:33.788+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:33.789+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:33.789+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2025-12-04T12:56:33.790+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2025-12-04T12:56:33.790+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:56:33.801+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:56:33.817+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:56:39.351+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:56:39.352+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:56:39.832+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:56:39.844+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 1 JPA repository interface.
2025-12-04T12:56:39.982+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:56:39.983+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:56:39.984+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:56:39.999+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:56:39.999+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 645 ms
2025-12-04T12:56:40.053+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:56:40.094+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:56:40.094+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Starting...
2025-12-04T12:56:40.099+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-14 - Added connection org.mariadb.jdbc.Connection@ebf34d2
2025-12-04T12:56:40.100+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Start completed.
2025-12-04T12:56:40.158+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:40.158+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:40.159+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown initiated...
2025-12-04T12:56:40.159+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown completed.
2025-12-04T12:56:40.159+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:56:40.167+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:56:40.169+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:56:41.628+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:56:41.630+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:56:41.839+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:56:41.846+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 1 JPA repository interface.
2025-12-04T12:56:41.928+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:56:41.929+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:56:41.929+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:56:41.943+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:56:41.943+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 312 ms
2025-12-04T12:56:41.988+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:56:42.022+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:56:42.022+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Starting...
2025-12-04T12:56:42.026+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-15 - Added connection org.mariadb.jdbc.Connection@4497f9e1
2025-12-04T12:56:42.026+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Start completed.
2025-12-04T12:56:42.075+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:42.075+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:42.075+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown initiated...
2025-12-04T12:56:42.075+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown completed.
2025-12-04T12:56:42.076+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:56:42.083+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:56:42.084+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:56:52.694+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:56:52.695+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:56:52.952+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:56:52.960+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-12-04T12:56:53.063+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:56:53.067+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:56:53.067+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:56:53.085+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:56:53.085+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 389 ms
2025-12-04T12:56:53.148+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:56:53.205+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:56:53.206+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Starting...
2025-12-04T12:56:53.211+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-16 - Added connection org.mariadb.jdbc.Connection@5fc7908b
2025-12-04T12:56:53.211+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Start completed.
2025-12-04T12:56:53.272+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:53.272+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:53.273+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown initiated...
2025-12-04T12:56:53.273+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown completed.
2025-12-04T12:56:53.273+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:56:53.281+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:56:53.283+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:56:54.744+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:56:54.745+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:56:54.970+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:56:54.999+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 1 JPA repository interface.
2025-12-04T12:56:55.090+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:56:55.091+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:56:55.091+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:56:55.111+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:56:55.112+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 366 ms
2025-12-04T12:56:55.163+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:56:55.202+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:56:55.203+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Starting...
2025-12-04T12:56:55.207+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-17 - Added connection org.mariadb.jdbc.Connection@64d7b794
2025-12-04T12:56:55.207+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Start completed.
2025-12-04T12:56:55.267+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:55.267+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:56:55.268+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown initiated...
2025-12-04T12:56:55.268+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown completed.
2025-12-04T12:56:55.270+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:56:55.276+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:56:55.279+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:57:02.815+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:02.815+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:03.086+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:03.099+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 1 JPA repository interface.
2025-12-04T12:57:03.239+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:03.240+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:03.240+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:03.259+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-5].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:03.260+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 444 ms
2025-12-04T12:57:03.309+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:03.345+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:03.346+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Starting...
2025-12-04T12:57:03.350+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-18 - Added connection org.mariadb.jdbc.Connection@66f13ec1
2025-12-04T12:57:03.350+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Start completed.
2025-12-04T12:57:03.405+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:03.406+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:03.406+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Shutdown initiated...
2025-12-04T12:57:03.407+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Shutdown completed.
2025-12-04T12:57:03.407+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:57:03.415+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:57:03.417+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:57:05.901+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:05.901+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:06.105+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:06.112+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 1 JPA repository interface.
2025-12-04T12:57:06.192+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:06.192+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:06.192+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:06.211+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-6].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:06.211+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 309 ms
2025-12-04T12:57:06.255+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:06.287+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:06.288+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-19 - Starting...
2025-12-04T12:57:06.292+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-19 - Added connection org.mariadb.jdbc.Connection@35f9dbe9
2025-12-04T12:57:06.292+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-19 - Start completed.
2025-12-04T12:57:06.341+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:06.341+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:06.341+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-19 - Shutdown initiated...
2025-12-04T12:57:06.342+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-19 - Shutdown completed.
2025-12-04T12:57:06.342+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:57:06.350+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:57:06.352+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:57:12.880+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:12.880+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:13.388+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:13.390+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-12-04T12:57:13.494+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:13.495+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:13.495+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:13.524+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:13.525+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 644 ms
2025-12-04T12:57:13.588+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:13.637+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:13.637+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-20 - Starting...
2025-12-04T12:57:13.656+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-20 - Added connection org.mariadb.jdbc.Connection@790c72
2025-12-04T12:57:13.656+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-20 - Start completed.
2025-12-04T12:57:13.675+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:57:13.727+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:57:13.769+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:57:13.818+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:57:13.827+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:57:13.844+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:57:14.021+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 052f7b86-37aa-4775-9dc1-1b3cace478c7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-04T12:57:14.024+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-04T12:57:14.058+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:57:14.141+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:57:14.173+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:57:14.188+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.333 seconds (process running for 434.079)
2025-12-04T12:57:14.194+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:57:17.438+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 81 class path changes (81 additions, 0 deletions, 0 modifications)
2025-12-04T12:57:17.442+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-51] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:57:17.460+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:57:17.464+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-51] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:57:17.465+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-51] com.zaxxer.hikari.HikariDataSource       : HikariPool-20 - Shutdown initiated...
2025-12-04T12:57:17.468+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-51] com.zaxxer.hikari.HikariDataSource       : HikariPool-20 - Shutdown completed.
2025-12-04T12:57:17.628+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:17.629+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:18.302+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:18.343+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 7 JPA repository interfaces.
2025-12-04T12:57:18.565+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:18.567+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:18.567+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:18.591+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:18.591+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 961 ms
2025-12-04T12:57:18.733+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:18.908+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:18.928+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Starting...
2025-12-04T12:57:18.968+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-21 - Added connection org.mariadb.jdbc.Connection@47b15c8d
2025-12-04T12:57:18.981+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Start completed.
2025-12-04T12:57:19.168+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:19.169+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:19.169+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Shutdown initiated...
2025-12-04T12:57:19.205+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-21 - Shutdown completed.
2025-12-04T12:57:19.206+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:57:19.217+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:57:19.222+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:57:25.897+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 28480 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:25.903+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:27.845+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:27.943+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 7 JPA repository interfaces.
2025-12-04T12:57:29.065+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:29.087+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:29.089+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:29.153+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:29.155+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3189 ms
2025-12-04T12:57:29.421+07:00 DEBUG 28480 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:30.117+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:30.167+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:57:30.328+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@aa633e6
2025-12-04T12:57:30.332+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:57:31.850+07:00 ERROR 28480 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:31.851+07:00  WARN 28480 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:31.851+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:57:31.861+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:57:31.864+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:57:31.900+07:00  INFO 28480 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:57:31.920+07:00 ERROR 28480 --- [SpringRestApiQuanLyBanSach] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:106)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 22 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 26 common frames omitted

2025-12-04T12:57:48.280+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:48.281+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:48.746+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:48.784+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 7 JPA repository interfaces.
2025-12-04T12:57:49.123+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:49.124+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:49.125+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:49.155+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-8].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:49.155+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 867 ms
2025-12-04T12:57:49.293+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:49.370+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:49.370+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Starting...
2025-12-04T12:57:49.375+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-22 - Added connection org.mariadb.jdbc.Connection@5d7a616f
2025-12-04T12:57:49.377+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Start completed.
2025-12-04T12:57:49.504+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:49.504+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:49.505+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Shutdown initiated...
2025-12-04T12:57:49.535+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-22 - Shutdown completed.
2025-12-04T12:57:49.536+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:57:49.546+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:57:49.550+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:57:51.494+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:57:51.495+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:57:51.714+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:57:51.730+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 7 JPA repository interfaces.
2025-12-04T12:57:51.819+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:57:51.819+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:57:51.819+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:57:51.834+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-9].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T12:57:51.834+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 338 ms
2025-12-04T12:57:51.878+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:57:51.914+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:57:51.915+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Starting...
2025-12-04T12:57:51.918+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-23 - Added connection org.mariadb.jdbc.Connection@32cae0f6
2025-12-04T12:57:51.919+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Start completed.
2025-12-04T12:57:51.982+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:51.982+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:57:51.982+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Shutdown initiated...
2025-12-04T12:57:51.983+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-23 - Shutdown completed.
2025-12-04T12:57:51.984+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:57:51.990+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:57:51.992+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:58:08.778+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:58:08.782+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:58:09.462+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:58:09.463+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-12-04T12:58:09.568+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:58:09.568+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:58:09.570+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:58:09.589+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-10].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T12:58:09.590+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 796 ms
2025-12-04T12:58:09.634+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:58:09.669+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:58:09.670+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Starting...
2025-12-04T12:58:09.676+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-24 - Added connection org.mariadb.jdbc.Connection@231e765f
2025-12-04T12:58:09.676+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Start completed.
2025-12-04T12:58:09.688+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:58:09.726+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:58:09.758+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:58:09.836+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:58:09.850+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:58:09.863+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:58:10.010+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: cdfe78f5-1777-4f11-8b00-698c9748b673

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-04T12:58:10.013+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-04T12:58:10.050+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:58:10.142+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:58:10.161+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:58:10.174+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.438 seconds (process running for 490.065)
2025-12-04T12:58:10.177+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T12:58:13.440+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 81 class path changes (81 additions, 0 deletions, 0 modifications)
2025-12-04T12:58:13.441+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-76] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:58:13.456+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:58:13.458+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-76] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:58:13.460+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-76] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Shutdown initiated...
2025-12-04T12:58:13.462+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-76] com.zaxxer.hikari.HikariDataSource       : HikariPool-24 - Shutdown completed.
2025-12-04T12:58:13.627+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:58:13.628+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:58:14.238+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:58:14.270+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
2025-12-04T12:58:14.534+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:58:14.535+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:58:14.535+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:58:14.561+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-10].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T12:58:14.561+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 931 ms
2025-12-04T12:58:14.670+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:58:14.755+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:58:14.756+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Starting...
2025-12-04T12:58:14.765+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-25 - Added connection org.mariadb.jdbc.Connection@54200e2b
2025-12-04T12:58:14.766+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Start completed.
2025-12-04T12:58:15.005+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:58:15.008+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:58:15.008+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Shutdown initiated...
2025-12-04T12:58:15.053+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-25 - Shutdown completed.
2025-12-04T12:58:15.054+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:58:15.067+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:58:15.075+07:00 ERROR 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T12:58:21.597+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 28248 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:58:21.600+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:58:23.476+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:58:23.580+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 7 JPA repository interfaces.
2025-12-04T12:58:24.684+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:58:24.707+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:58:24.709+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:58:24.763+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:58:24.763+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3094 ms
2025-12-04T12:58:25.075+07:00 DEBUG 28248 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:58:25.739+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:58:25.788+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:58:25.945+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4822ab4d
2025-12-04T12:58:25.948+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:58:27.537+07:00 ERROR 28248 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:58:27.538+07:00  WARN 28248 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T12:58:27.540+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:58:27.545+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:58:27.549+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T12:58:27.577+07:00  INFO 28248 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:58:27.596+07:00 ERROR 28248 --- [SpringRestApiQuanLyBanSach] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:106)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 22 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 26 common frames omitted

2025-12-04T12:58:52.220+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:58:52.220+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:58:52.472+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:58:52.492+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 7 JPA repository interfaces.
2025-12-04T12:58:52.600+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:58:52.600+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:58:52.602+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:58:52.623+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T12:58:52.623+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 402 ms
2025-12-04T12:58:52.676+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:58:52.717+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:58:52.717+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-26 - Starting...
2025-12-04T12:58:52.723+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-26 - Added connection org.mariadb.jdbc.Connection@ec6b5e0
2025-12-04T12:58:52.723+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-26 - Start completed.
2025-12-04T12:58:53.025+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK64t7ox312pqal3p7fg9o503c2' at line 1
2025-12-04T12:58:53.039+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKhmsk25beh6atojvle1xuymjj0' at line 1
2025-12-04T12:58:53.053+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK6dotkott2kjsp8vw4d0m25fb7' at line 1
2025-12-04T12:58:53.066+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKr43af9ap4edm43mmtq01oddj6' at line 1
2025-12-04T12:58:53.408+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:58:53.798+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:58:53.848+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:58:53.876+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:58:53.967+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:58:54.006+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:58:54.007+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:58:54.170+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:58:54.200+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:58:54.333+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:58:54.348+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:58:54.356+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.157 seconds (process running for 534.247)
2025-12-04T12:58:54.490+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper:
      Did not match:
         - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans of type 'com.fasterxml.jackson.databind.ObjectMapper' objectMapper (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' customUserDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T12:59:00.856+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 82 class path changes (0 additions, 81 deletions, 1 modification)
2025-12-04T12:59:00.860+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-89] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:59:00.877+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:59:00.882+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-89] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:00.884+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-89] com.zaxxer.hikari.HikariDataSource       : HikariPool-26 - Shutdown initiated...
2025-12-04T12:59:00.891+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-89] com.zaxxer.hikari.HikariDataSource       : HikariPool-26 - Shutdown completed.
2025-12-04T12:59:01.046+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:59:01.047+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:59:01.420+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:59:01.421+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-12-04T12:59:01.532+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:59:01.533+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:59:01.533+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:59:01.553+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T12:59:01.553+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 503 ms
2025-12-04T12:59:01.592+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:59:01.620+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:59:01.620+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-27 - Starting...
2025-12-04T12:59:01.625+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-27 - Added connection org.mariadb.jdbc.Connection@431198d3
2025-12-04T12:59:01.625+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-27 - Start completed.
2025-12-04T12:59:01.638+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:01.675+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:59:01.703+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:59:01.752+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:59:01.766+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:59:01.781+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:59:02.017+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 90b21605-2430-4c1d-8b36-ba46699fe930

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-04T12:59:02.021+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-04T12:59:02.053+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:59:02.137+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:59:02.158+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:59:02.171+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.166 seconds (process running for 542.062)
2025-12-04T12:59:02.182+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper matched:
      - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T12:59:05.855+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 81 class path changes (81 additions, 0 deletions, 0 modifications)
2025-12-04T12:59:05.856+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-96] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T12:59:05.876+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T12:59:05.881+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-96] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:05.883+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-96] com.zaxxer.hikari.HikariDataSource       : HikariPool-27 - Shutdown initiated...
2025-12-04T12:59:05.886+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-96] com.zaxxer.hikari.HikariDataSource       : HikariPool-27 - Shutdown completed.
2025-12-04T12:59:06.034+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:59:06.035+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:59:06.531+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:59:06.561+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
2025-12-04T12:59:06.786+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:59:06.787+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:59:06.787+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:59:06.816+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T12:59:06.816+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 778 ms
2025-12-04T12:59:06.936+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:59:07.044+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:59:07.050+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-28 - Starting...
2025-12-04T12:59:07.066+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-28 - Added connection org.mariadb.jdbc.Connection@2f9339bb
2025-12-04T12:59:07.067+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-28 - Start completed.
2025-12-04T12:59:07.545+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:08.072+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:59:08.119+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:59:08.150+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:59:08.202+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:59:08.237+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:59:08.237+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:59:08.357+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:59:08.382+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:59:08.493+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T12:59:08.519+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T12:59:08.528+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.527 seconds (process running for 548.419)
2025-12-04T12:59:08.564+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper:
      Did not match:
         - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans of type 'com.fasterxml.jackson.databind.ObjectMapper' objectMapper (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' customUserDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T12:59:16.478+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 27976 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:59:16.481+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:59:18.264+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:59:18.400+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 7 JPA repository interfaces.
2025-12-04T12:59:19.511+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:59:19.530+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:59:19.531+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:59:19.586+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:59:19.586+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3044 ms
2025-12-04T12:59:19.932+07:00 DEBUG 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:59:20.866+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:59:20.915+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:59:21.102+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@625db0e0
2025-12-04T12:59:21.105+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:59:22.638+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:23.016+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:59:26.513+07:00  WARN 27976 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:59:26.707+07:00 DEBUG 27976 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:59:26.798+07:00 DEBUG 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:59:26.998+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:59:27.068+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:59:27.069+07:00  WARN 27976 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:59:27.412+07:00 DEBUG 27976 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:59:27.478+07:00 DEBUG 27976 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:59:27.886+07:00  WARN 27976 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-04T12:59:27.896+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:27.901+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:59:27.907+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:59:27.968+07:00  INFO 27976 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:59:28.004+07:00 ERROR 27976 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-04T12:59:36.437+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T12:59:36.437+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T12:59:36.437+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T12:59:36.437+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T12:59:36.437+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T12:59:36.438+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@22f35784
2025-12-04T12:59:36.438+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@56b4d39d
2025-12-04T12:59:36.438+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T12:59:36.438+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-04T12:59:36.441+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T12:59:36.442+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T12:59:36.447+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> iuh.fit.controllers.AuthController.login(iuh.fit.dtos.user.LoginRequest): JSON parse error: Unexpected character ('\' (code 92)): was expecting double-quote to start field name
2025-12-04T12:59:36.448+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('\' (code 92)): was expecting double-quote to start field name]
2025-12-04T12:59:36.448+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-04T12:59:36.510+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=15&ids=14", parameters={masked}
2025-12-04T12:59:36.512+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T12:59:36.516+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2025-12-04T12:59:52.067+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38648 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T12:59:52.069+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T12:59:52.111+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T12:59:52.112+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T12:59:52.908+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T12:59:52.970+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2025-12-04T12:59:53.446+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T12:59:53.457+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T12:59:53.457+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T12:59:53.503+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T12:59:53.504+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1391 ms
2025-12-04T12:59:53.628+07:00 DEBUG 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T12:59:53.970+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T12:59:53.991+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T12:59:54.075+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@32044d9a
2025-12-04T12:59:54.076+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T12:59:54.947+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:55.124+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T12:59:57.126+07:00  WARN 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T12:59:57.237+07:00 DEBUG 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T12:59:57.288+07:00 DEBUG 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T12:59:57.384+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T12:59:57.430+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T12:59:57.430+07:00  WARN 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T12:59:57.598+07:00 DEBUG 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T12:59:57.640+07:00 DEBUG 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T12:59:57.847+07:00  WARN 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-12-04T12:59:57.902+07:00  WARN 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-04T12:59:57.907+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T12:59:57.911+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T12:59:57.914+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T12:59:57.930+07:00  INFO 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T12:59:57.946+07:00 ERROR 38648 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-04T13:00:13.253+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 82 class path changes (0 additions, 81 deletions, 1 modification)
2025-12-04T13:00:13.255+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-100] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:00:13.269+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:00:13.273+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-100] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:00:13.274+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-100] com.zaxxer.hikari.HikariDataSource       : HikariPool-28 - Shutdown initiated...
2025-12-04T13:00:13.281+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-100] com.zaxxer.hikari.HikariDataSource       : HikariPool-28 - Shutdown completed.
2025-12-04T13:00:13.484+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:00:13.488+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:00:13.965+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:00:13.968+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-12-04T13:00:14.138+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:00:14.140+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:00:14.140+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:00:14.178+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T13:00:14.178+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 687 ms
2025-12-04T13:00:14.232+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:00:14.278+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:00:14.280+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-29 - Starting...
2025-12-04T13:00:14.285+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-29 - Added connection org.mariadb.jdbc.Connection@599e51f1
2025-12-04T13:00:14.285+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-29 - Start completed.
2025-12-04T13:00:14.300+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:00:14.348+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:00:14.386+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:00:14.429+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:00:14.436+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:00:14.445+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:00:14.545+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 50474aa3-af58-4403-bf2e-732f953ca6c4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-04T13:00:14.546+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-04T13:00:14.568+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:00:14.625+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:00:14.640+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:00:14.649+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.251 seconds (process running for 614.541)
2025-12-04T13:00:14.653+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper matched:
      - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T13:00:18.330+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 81 class path changes (81 additions, 0 deletions, 0 modifications)
2025-12-04T13:00:18.331+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-104] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:00:18.341+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:00:18.343+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-104] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:00:18.344+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-104] com.zaxxer.hikari.HikariDataSource       : HikariPool-29 - Shutdown initiated...
2025-12-04T13:00:18.346+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [Thread-104] com.zaxxer.hikari.HikariDataSource       : HikariPool-29 - Shutdown completed.
2025-12-04T13:00:18.491+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 17104 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:00:18.492+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:00:19.002+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:00:19.039+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 7 JPA repository interfaces.
2025-12-04T13:00:19.264+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:00:19.265+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:00:19.265+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:00:19.304+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-12-04T13:00:19.305+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 811 ms
2025-12-04T13:00:19.422+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:00:19.494+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:00:19.495+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-30 - Starting...
2025-12-04T13:00:19.500+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-30 - Added connection org.mariadb.jdbc.Connection@7ef68292
2025-12-04T13:00:19.502+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-30 - Start completed.
2025-12-04T13:00:19.845+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:00:20.322+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:00:20.379+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:00:20.411+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:00:20.464+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:00:20.497+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:00:20.498+07:00  WARN 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:00:20.583+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:00:20.598+07:00 DEBUG 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:00:20.705+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:00:20.720+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:00:20.727+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.262 seconds (process running for 620.618)
2025-12-04T13:00:20.758+07:00  INFO 17104 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper:
      Did not match:
         - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans of type 'com.fasterxml.jackson.databind.ObjectMapper' objectMapper (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' customUserDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T13:00:27.291+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 960 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:00:27.295+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:00:29.261+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:00:29.391+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 7 JPA repository interfaces.
2025-12-04T13:00:30.570+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:00:30.588+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:00:30.588+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:00:30.658+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:00:30.658+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3304 ms
2025-12-04T13:00:30.949+07:00 DEBUG 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:00:31.749+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:00:31.803+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:00:31.984+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@430106cf
2025-12-04T13:00:31.987+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:00:33.794+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:00:34.156+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:00:37.238+07:00  WARN 960 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:00:37.449+07:00 DEBUG 960 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:00:37.543+07:00 DEBUG 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:00:37.933+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:00:38.040+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:00:38.043+07:00  WARN 960 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:00:38.413+07:00 DEBUG 960 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:00:38.494+07:00 DEBUG 960 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:00:38.958+07:00  WARN 960 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-04T13:00:38.967+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:00:38.971+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:00:38.974+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:00:39.011+07:00  INFO 960 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T13:00:39.037+07:00 ERROR 960 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-04T13:01:02.536+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 19684 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:01:02.544+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:01:04.392+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:01:04.503+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98 ms. Found 7 JPA repository interfaces.
2025-12-04T13:01:05.608+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:01:05.625+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:01:05.626+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:01:05.702+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:01:05.704+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3091 ms
2025-12-04T13:01:05.992+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:01:06.736+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:01:06.803+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:01:06.964+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@608eb42e
2025-12-04T13:01:06.968+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:01:08.521+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:01:08.948+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:01:12.138+07:00  WARN 19684 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:01:12.335+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:01:12.431+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:01:12.616+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:01:12.709+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:01:12.712+07:00  WARN 19684 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:01:13.253+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:01:13.326+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:01:13.916+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:01:13.948+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 12.282 seconds (process running for 12.858)
2025-12-04T13:01:46.684+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:01:46.685+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:01:46.685+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:01:46.685+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:01:46.686+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:01:46.687+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6f019523
2025-12-04T13:01:46.688+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@53600a30
2025-12-04T13:01:46.689+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:01:46.689+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-04T13:01:46.762+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:01:46.764+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:01:46.865+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:01:46.909+07:00  WARN 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] iuh.fit.controllers.AuthController       : Login failed: Username ho?c password khng ?ng
2025-12-04T13:01:46.932+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:01:46.935+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=401, message=Username ho?c password khng ?ng, error=UNAUTHORIZED}]
2025-12-04T13:01:46.967+07:00 DEBUG 19684 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-12-04T13:02:29.371+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:02:29.504+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:02:29.511+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:02:29.514+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:02:29.518+07:00  INFO 19684 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:03:03.449+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 8928 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:03:03.453+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:03:05.425+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:03:05.516+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 7 JPA repository interfaces.
2025-12-04T13:03:06.508+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:03:06.527+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:03:06.527+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:03:06.581+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:03:06.583+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3074 ms
2025-12-04T13:03:06.868+07:00 DEBUG 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:03:07.528+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:03:07.580+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:03:07.728+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@c697186
2025-12-04T13:03:07.731+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:03:09.350+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:03:09.701+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:03:12.791+07:00  WARN 8928 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:03:12.958+07:00 DEBUG 8928 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:03:13.031+07:00 DEBUG 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:03:13.219+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:03:13.280+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:03:13.281+07:00  WARN 8928 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:03:13.596+07:00 DEBUG 8928 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:03:13.653+07:00 DEBUG 8928 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:03:14.176+07:00  WARN 8928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1062-23000: Duplicate entry '3' for key 'carts.UK64t7ox312pqal3p7fg9o503c2'
2025-12-04T13:03:14.178+07:00  WARN 8928 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #42 of class path resource [init-database.sql]: INSERT INTO carts (user_id, total_amount, created_at, updated_at) VALUES (3, 308000.00, NOW(), NOW())
2025-12-04T13:03:14.183+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:03:14.186+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:03:14.190+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:03:14.192+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T13:03:14.213+07:00  INFO 8928 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T13:03:14.231+07:00 ERROR 8928 --- [SpringRestApiQuanLyBanSach] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #42 of class path resource [init-database.sql]: INSERT INTO carts (user_id, total_amount, created_at, updated_at) VALUES (3, 308000.00, NOW(), NOW())
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:106)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #42 of class path resource [init-database.sql]: INSERT INTO carts (user_id, total_amount, created_at, updated_at) VALUES (3, 308000.00, NOW(), NOW())
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 27 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: (conn=1671) Duplicate entry '3' for key 'carts.UK64t7ox312pqal3p7fg9o503c2'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:301)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.Statement.executeInternal(Statement.java:1003)
	at org.mariadb.jdbc.Statement.execute(Statement.java:1132)
	at org.mariadb.jdbc.Statement.execute(Statement.java:471)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 37 common frames omitted

2025-12-04T13:03:35.823+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 8076 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:03:35.825+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:03:37.431+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:03:37.531+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 7 JPA repository interfaces.
2025-12-04T13:03:38.470+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:03:38.488+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:03:38.490+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:03:38.540+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:03:38.541+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2661 ms
2025-12-04T13:03:38.833+07:00 DEBUG 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:03:39.544+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:03:39.587+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:03:39.734+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@625db0e0
2025-12-04T13:03:39.736+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:03:41.259+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:03:41.729+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:03:44.581+07:00  WARN 8076 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:03:44.787+07:00 DEBUG 8076 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:03:44.884+07:00 DEBUG 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:03:45.085+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:03:45.160+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:03:45.161+07:00  WARN 8076 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:03:45.576+07:00 DEBUG 8076 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:03:45.650+07:00 DEBUG 8076 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:03:46.236+07:00  WARN 8076 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1062-23000: Duplicate entry '3' for key 'carts.UK64t7ox312pqal3p7fg9o503c2'
2025-12-04T13:03:46.238+07:00  WARN 8076 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #42 of class path resource [init-database.sql]: INSERT INTO carts (user_id, total_amount, created_at, updated_at) VALUES (3, 308000.00, NOW(), NOW())
2025-12-04T13:03:46.245+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:03:46.249+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:03:46.254+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:03:46.259+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T13:03:46.289+07:00  INFO 8076 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T13:03:46.315+07:00 ERROR 8076 --- [SpringRestApiQuanLyBanSach] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #42 of class path resource [init-database.sql]: INSERT INTO carts (user_id, total_amount, created_at, updated_at) VALUES (3, 308000.00, NOW(), NOW())
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:106)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #42 of class path resource [init-database.sql]: INSERT INTO carts (user_id, total_amount, created_at, updated_at) VALUES (3, 308000.00, NOW(), NOW())
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 27 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: (conn=1681) Duplicate entry '3' for key 'carts.UK64t7ox312pqal3p7fg9o503c2'
	at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:301)
	at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:386)
	at org.mariadb.jdbc.message.ClientMessage.readPacket(ClientMessage.java:187)
	at org.mariadb.jdbc.client.impl.StandardClient.readPacket(StandardClient.java:1376)
	at org.mariadb.jdbc.client.impl.StandardClient.readResults(StandardClient.java:1315)
	at org.mariadb.jdbc.client.impl.StandardClient.readResponse(StandardClient.java:1234)
	at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:1158)
	at org.mariadb.jdbc.Statement.executeInternal(Statement.java:1003)
	at org.mariadb.jdbc.Statement.execute(Statement.java:1132)
	at org.mariadb.jdbc.Statement.execute(Statement.java:471)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 37 common frames omitted

2025-12-04T13:04:24.207+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 26804 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:04:24.211+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:04:25.893+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:04:25.998+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 7 JPA repository interfaces.
2025-12-04T13:04:26.982+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:04:27.001+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:04:27.002+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:04:27.054+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:04:27.055+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2785 ms
2025-12-04T13:04:27.333+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:04:27.995+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:04:28.046+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:04:28.204+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@5b715ea
2025-12-04T13:04:28.206+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:04:29.795+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:04:30.183+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:04:32.922+07:00  WARN 26804 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:04:33.082+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:04:33.142+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:04:33.289+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:04:33.339+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:04:33.340+07:00  WARN 26804 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:04:33.616+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:04:33.665+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:04:34.021+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:04:34.043+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 10.692 seconds (process running for 11.23)
2025-12-04T13:04:45.696+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:04:45.697+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:04:45.697+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:04:45.697+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:04:45.697+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:04:45.699+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@10ebfb4f
2025-12-04T13:04:45.700+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@498c0651
2025-12-04T13:04:45.700+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:04:45.700+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T13:04:45.752+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:04:45.754+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:04:45.851+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:04:46.116+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:04:46.128+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:04:46.130+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:04:46.150+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:05:18.177+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=28&ids=27", parameters={masked}
2025-12-04T13:05:18.177+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T13:05:18.260+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:05:18.261+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 2 s?n ph?m thnh cng}]
2025-12-04T13:05:18.263+07:00 DEBUG 26804 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:06:16.476+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:06:16.600+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:06:16.606+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:06:16.608+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:06:16.613+07:00  INFO 26804 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:07:35.866+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 34928 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:07:35.868+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:07:37.540+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:07:37.649+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 7 JPA repository interfaces.
2025-12-04T13:07:38.671+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:07:38.691+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:07:38.692+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:07:38.741+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:07:38.743+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2815 ms
2025-12-04T13:07:39.010+07:00 DEBUG 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:07:39.760+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:07:39.804+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:07:39.955+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@1805ca5c
2025-12-04T13:07:39.957+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:07:41.510+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:07:41.511+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:07:41.512+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:07:41.512+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:07:41.512+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:07:41.512+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:07:41.513+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:07:41.513+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:07:41.964+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:07:42.307+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:07:45.914+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:07:46.196+07:00 DEBUG 34928 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:07:46.316+07:00 DEBUG 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:07:46.547+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:07:46.608+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:07:46.608+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:07:46.875+07:00 DEBUG 34928 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:07:46.944+07:00 DEBUG 34928 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:07:47.408+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:07:47.429+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 12.363 seconds (process running for 12.891)
2025-12-04T13:07:48.152+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:07:48.260+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:07:48.267+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:07:48.268+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:07:48.268+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:07:48.269+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:07:48.269+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:07:48.269+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:07:48.269+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:07:48.269+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:07:48.269+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:07:48.271+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:07:48.271+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:07:48.271+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:07:48.271+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:07:48.272+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:07:48.272+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:07:48.272+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:07:48.272+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:07:48.291+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:07:48.291+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:07:48.292+07:00  WARN 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:07:48.292+07:00 ERROR 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:07:48.327+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:07:48.329+07:00  INFO 34928 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:07:56.735+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 18660 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:07:56.736+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:07:56.772+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T13:07:56.772+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T13:07:57.674+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:07:57.735+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
2025-12-04T13:07:58.187+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:07:58.198+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:07:58.199+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:07:58.247+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:07:58.247+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1474 ms
2025-12-04T13:07:58.386+07:00 DEBUG 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:07:58.738+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:07:58.760+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:07:58.844+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@76bfc986
2025-12-04T13:07:58.845+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:07:59.668+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:07:59.670+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:07:59.671+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:07:59.672+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:07:59.673+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:07:59.674+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:07:59.675+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:07:59.676+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:08:00.141+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:08:00.331+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:08:02.284+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:08:02.392+07:00 DEBUG 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:08:02.436+07:00 DEBUG 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:08:02.532+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:08:02.576+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:08:02.577+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:08:02.738+07:00 DEBUG 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:08:02.802+07:00 DEBUG 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:08:03.023+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:08:03.084+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:08:03.097+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.745 seconds (process running for 7.068)
2025-12-04T13:13:36.136+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:13:36.148+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:13:36.155+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:13:36.157+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:13:36.159+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:13:36.160+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:13:36.160+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:13:36.161+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:13:36.162+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:13:36.162+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:13:36.163+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:13:36.163+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:13:36.163+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:13:36.164+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:13:36.164+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:13:36.164+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:13:36.165+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:13:36.165+07:00  WARN 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:13:36.166+07:00 ERROR 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:13:36.184+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:13:36.189+07:00  INFO 18660 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:13:44.090+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 5320 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:13:44.091+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:13:44.128+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T13:13:44.128+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T13:13:45.107+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:13:45.168+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 7 JPA repository interfaces.
2025-12-04T13:13:45.609+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:13:45.619+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:13:45.619+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:13:45.659+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:13:45.659+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1531 ms
2025-12-04T13:13:45.793+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:13:46.130+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:13:46.154+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:13:46.240+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3b278a66
2025-12-04T13:13:46.242+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:13:47.026+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:13:47.026+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:13:47.028+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:13:47.028+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:13:47.029+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:13:47.029+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:13:47.029+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:13:47.029+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:13:47.484+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:13:47.665+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:13:49.721+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:13:49.837+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:13:49.884+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:13:49.981+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:13:50.023+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:13:50.024+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:13:50.181+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:13:50.224+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:13:50.429+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:13:50.488+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:13:50.501+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.797 seconds (process running for 7.109)
2025-12-04T13:14:32.670+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:14:32.671+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:14:32.671+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:14:32.672+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:14:32.672+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:14:32.673+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@716e1e4e
2025-12-04T13:14:32.674+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4aa6c3bd
2025-12-04T13:14:32.675+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:14:32.675+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-12-04T13:14:32.724+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:14:32.726+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:14:32.820+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:14:32.983+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:14:32.989+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:14:32.989+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=ng nhp thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:14:33.004+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:14:51.450+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=28&ids=27", parameters={masked}
2025-12-04T13:14:51.450+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T13:14:51.509+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:14:51.510+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 2 sn phm thnh cng}]
2025-12-04T13:14:51.512+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:15:03.369+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=25&ids=26", parameters={masked}
2025-12-04T13:15:03.370+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T13:15:03.397+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:15:03.398+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 2 sn phm thnh cng}]
2025-12-04T13:15:03.400+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:17:58.719+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T13:17:58.731+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:17:58.749+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:17:58.759+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:17:58.762+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:17:58.764+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:17:58.765+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:17:58.766+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:17:58.766+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:17:58.767+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:17:58.769+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:17:58.769+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:17:58.770+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:17:58.770+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:17:58.771+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:17:58.772+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:17:58.772+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:17:58.772+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:17:58.773+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:17:58.773+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:17:58.804+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:17:58.804+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:17:58.806+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:17:58.806+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:17:58.868+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:17:58.872+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:17:58.966+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 5320 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:17:58.968+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:17:59.289+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:17:59.316+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
2025-12-04T13:17:59.514+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:17:59.515+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:17:59.516+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:17:59.540+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:17:59.541+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 572 ms
2025-12-04T13:17:59.688+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:17:59.775+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:17:59.777+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-04T13:17:59.785+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@16696666
2025-12-04T13:17:59.785+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-04T13:18:00.030+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:00.032+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:00.035+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:00.036+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:00.036+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:00.038+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:00.039+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:00.046+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:00.566+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:01.034+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:18:01.095+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:18:01.130+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:18:01.205+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:18:01.248+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:18:01.249+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:18:01.348+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:18:01.364+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:18:01.484+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:18:01.501+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:18:01.505+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:18:01.505+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:18:01.506+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:18:01.506+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:18:01.506+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:18:01.508+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@73d15f5d
2025-12-04T13:18:01.508+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2de00b23
2025-12-04T13:18:01.509+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:18:01.509+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T13:18:01.510+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.575 seconds (process running for 258.119)
2025-12-04T13:18:01.517+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-12-04T13:18:01.519+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:01.535+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.579+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.css", parameters={}
2025-12-04T13:18:01.579+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-04T13:18:01.580+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:01.580+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:01.586+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.586+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-04T13:18:01.586+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.592+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-04T13:18:01.593+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-04T13:18:01.593+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:01.594+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:01.595+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:01.616+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.613+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.633+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.690+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T13:18:01.923+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-12-04T13:18:01.927+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-04T13:18:01.933+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-12-04T13:18:01.936+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8081/swagger-ui/oauth2-re (truncated)...]
2025-12-04T13:18:01.939+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:01.960+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-12-04T13:18:01.960+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-04T13:18:02.484+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-12-04T13:18:02.488+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:02.494+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:02.525+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-04T13:18:02.527+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.css", parameters={}
2025-12-04T13:18:02.531+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-04T13:18:02.532+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-04T13:18:02.533+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-04T13:18:02.535+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:02.536+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:02.540+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:02.540+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:02.541+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-04T13:18:02.545+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:02.548+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:02.556+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:02.568+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:02.569+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:02.797+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 826 ms
2025-12-04T13:18:02.830+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-04T13:18:02.835+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-04T13:18:02.836+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:03.060+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-12-04T13:18:03.063+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-04T13:18:03.065+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-12-04T13:18:03.065+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8081/swagger-ui/oauth2-re (truncated)...]
2025-12-04T13:18:03.066+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:03.090+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-12-04T13:18:03.091+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-04T13:18:03.106+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-04T13:18:03.110+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-04T13:18:03.112+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:18:06.027+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T13:18:06.028+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:18:06.039+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:18:06.042+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:06.043+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:06.044+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:18:06.044+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:06.044+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:18:06.045+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:06.045+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:18:06.045+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:06.045+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:18:06.046+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:06.046+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:18:06.046+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:06.046+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:18:06.046+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:06.046+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:18:06.047+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:06.047+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:18:06.069+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:18:06.069+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:18:06.070+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:18:06.070+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:18:06.114+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-04T13:18:06.116+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-04T13:18:06.227+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 5320 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:18:06.227+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:18:06.468+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:18:06.488+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
2025-12-04T13:18:06.606+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:18:06.606+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:18:06.606+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:18:06.624+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:18:06.624+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 395 ms
2025-12-04T13:18:06.691+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:18:06.735+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:18:06.735+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-04T13:18:06.739+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@5997d386
2025-12-04T13:18:06.740+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-04T13:18:06.862+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:06.862+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:06.863+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:06.863+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:06.864+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:06.864+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:06.864+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:06.865+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:07.348+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:07.680+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:18:07.733+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:18:07.763+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:18:07.817+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:18:07.860+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:18:07.861+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:18:07.951+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:18:07.968+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:18:08.072+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:18:08.086+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:18:08.093+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.897 seconds (process running for 264.701)
2025-12-04T13:18:08.198+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T13:18:17.630+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 0 deletions, 4 modifications)
2025-12-04T13:18:17.635+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:18:17.646+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:18:17.649+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:17.649+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:17.650+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:18:17.650+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:17.651+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:18:17.651+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:17.651+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:18:17.652+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:17.652+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:18:17.652+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:17.653+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:18:17.653+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:17.653+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:18:17.654+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:17.654+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:18:17.654+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:17.654+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:18:17.681+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:18:17.682+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:18:17.682+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:18:17.682+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:18:17.730+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-04T13:18:17.731+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-04T13:18:17.834+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 5320 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:18:17.834+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:18:18.116+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:18:18.135+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
2025-12-04T13:18:18.235+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:18:18.237+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:18:18.237+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:18:18.253+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:18:18.253+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 417 ms
2025-12-04T13:18:18.302+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:18:18.344+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:18:18.345+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-12-04T13:18:18.349+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection org.mariadb.jdbc.Connection@5964aea8
2025-12-04T13:18:18.350+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-12-04T13:18:18.464+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:18.464+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:18.465+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:18.465+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:18.465+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:18.466+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:18.466+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:18.466+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:18.974+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:19.269+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:18:19.317+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:18:19.345+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:18:19.398+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:18:19.428+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:18:19.428+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:18:19.504+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:18:19.518+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:18:19.639+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:18:19.659+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:18:19.667+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.862 seconds (process running for 276.275)
2025-12-04T13:18:19.779+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T13:18:27.207+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T13:18:27.209+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:18:27.218+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:18:27.223+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:27.224+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:27.224+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:18:27.224+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:27.224+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:18:27.225+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:27.225+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:18:27.225+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:27.225+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:18:27.226+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:27.226+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:18:27.226+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:27.226+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:18:27.226+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:27.226+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:18:27.226+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:27.226+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:18:27.248+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:18:27.249+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:18:27.250+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:18:27.250+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:18:27.297+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-12-04T13:18:27.300+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-12-04T13:18:27.396+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 5320 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:18:27.396+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:18:27.648+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:18:27.665+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
2025-12-04T13:18:27.767+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:18:27.767+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:18:27.768+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:18:27.784+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:18:27.784+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 386 ms
2025-12-04T13:18:27.842+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:18:27.891+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:18:27.891+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-12-04T13:18:27.896+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection org.mariadb.jdbc.Connection@49d6e695
2025-12-04T13:18:27.896+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-12-04T13:18:28.024+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:28.025+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:28.025+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:28.026+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:28.026+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:28.027+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:28.027+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:28.027+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:28.462+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:28.772+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:18:28.817+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:18:28.844+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:18:28.892+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:18:28.926+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:18:28.926+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:18:29.001+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:18:29.015+07:00 DEBUG 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:18:29.109+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:18:29.122+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:18:29.129+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.755 seconds (process running for 285.737)
2025-12-04T13:18:29.234+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T13:18:38.676+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:18:38.686+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:18:38.689+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:18:38.690+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:18:38.690+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:18:38.691+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:18:38.691+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:18:38.692+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:18:38.692+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:18:38.692+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:18:38.692+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:18:38.692+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:18:38.693+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:18:38.693+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:18:38.693+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:18:38.693+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:18:38.694+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:18:38.694+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:18:38.694+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:18:38.716+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:18:38.716+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:18:38.717+07:00  WARN 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:18:38.717+07:00 ERROR 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:18:38.758+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-12-04T13:18:38.759+07:00  INFO 5320 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-12-04T13:19:55.660+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38132 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:19:55.661+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:19:55.692+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T13:19:55.692+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T13:19:56.476+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:19:56.535+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 7 JPA repository interfaces.
2025-12-04T13:19:56.984+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:19:56.996+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:19:56.996+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:19:57.042+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:19:57.051+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1358 ms
2025-12-04T13:19:57.234+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:19:57.562+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:19:57.585+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:19:57.669+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@6ee5ff73
2025-12-04T13:19:57.670+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:19:58.452+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:19:58.454+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:19:58.455+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:19:58.455+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:19:58.456+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:19:58.456+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:19:58.457+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:19:58.457+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:19:58.934+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:19:59.122+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:20:01.119+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:20:01.276+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:20:01.351+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:20:01.462+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:20:01.524+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:20:01.525+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:20:01.717+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:20:01.768+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:20:02.062+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:20:02.130+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:20:02.144+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.912 seconds (process running for 7.358)
2025-12-04T13:20:10.850+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:20:10.851+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:20:10.851+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:20:10.851+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:20:10.852+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:20:10.853+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@32e7c05a
2025-12-04T13:20:10.854+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5123d6f6
2025-12-04T13:20:10.854+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:20:10.854+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T13:20:11.018+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/users", parameters={}
2025-12-04T13:20:11.020+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#getAllUsers()
2025-12-04T13:20:11.106+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:20:11.108+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[iuh.fit.dtos.user.UserDTO@2b809e86]}]
2025-12-04T13:20:11.149+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]
2025-12-04T13:20:11.153+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.LinkedHashMap["data"]->java.util.ArrayList[0]->iuh.fit.dtos.user.UserDTO["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:807)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:763)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:719)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:423)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T13:20:15.624+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:20:15.625+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:20:15.647+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:20:15.759+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:20:15.759+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:20:15.760+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=ng nhp thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:20:15.763+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:20:31.231+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/users", parameters={}
2025-12-04T13:20:31.232+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#getAllUsers()
2025-12-04T13:20:31.239+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:20:31.240+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[iuh.fit.dtos.user.UserDTO@cb4f8cb]}]
2025-12-04T13:20:31.241+07:00 DEBUG 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]
2025-12-04T13:20:31.242+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.LinkedHashMap["data"]->java.util.ArrayList[0]->iuh.fit.dtos.user.UserDTO["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:807)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:763)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:719)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:423)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T13:21:20.570+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:21:20.584+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:21:20.593+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:21:20.595+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:21:20.598+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:21:20.599+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:21:20.599+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:21:20.600+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:21:20.600+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:21:20.601+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:21:20.601+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:21:20.602+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:21:20.602+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:21:20.602+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:21:20.603+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:21:20.603+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:21:20.604+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:21:20.604+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:21:20.604+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:21:20.729+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:21:20.730+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:21:20.731+07:00  WARN 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:21:20.731+07:00 ERROR 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:21:20.798+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:21:20.803+07:00  INFO 38132 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:22:04.917+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38340 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:22:04.919+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:22:04.957+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T13:22:04.957+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T13:22:05.776+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:22:05.838+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
2025-12-04T13:22:06.295+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:22:06.304+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:22:06.305+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:22:06.345+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:22:06.345+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1387 ms
2025-12-04T13:22:06.474+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:22:06.801+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:22:06.825+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:22:06.912+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3b278a66
2025-12-04T13:22:06.913+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:22:07.700+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:22:07.701+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:22:07.702+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:22:07.703+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:22:07.703+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:22:07.703+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:22:07.704+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:22:07.704+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:22:08.164+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:22:08.358+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:22:10.292+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:22:10.398+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:22:10.442+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:22:10.539+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:22:10.581+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:22:10.582+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:22:10.753+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:22:10.796+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:22:11.007+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:22:11.067+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:22:11.079+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.528 seconds (process running for 6.835)
2025-12-04T13:22:15.095+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:22:15.095+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:22:15.096+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:22:15.096+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:22:15.097+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:22:15.098+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@716e1e4e
2025-12-04T13:22:15.099+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4aa6c3bd
2025-12-04T13:22:15.099+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:22:15.099+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T13:22:15.152+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:22:15.155+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:22:15.253+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:22:15.435+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:22:15.440+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:22:15.441+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=ng nhp thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:22:15.459+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:22:46.932+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/products", parameters={}
2025-12-04T13:22:46.933+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#getProducts()
2025-12-04T13:22:46.944+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:22:46.945+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[]}]
2025-12-04T13:22:46.947+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:22:58.941+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/users", parameters={}
2025-12-04T13:22:58.942+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#getAllUsers()
2025-12-04T13:22:58.980+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:22:58.981+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[iuh.fit.dtos.user.UserDTO@f7d6f5b]}]
2025-12-04T13:22:58.990+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]
2025-12-04T13:22:58.992+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.LinkedHashMap["data"]->java.util.ArrayList[0]->iuh.fit.dtos.user.UserDTO["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:807)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:763)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:719)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:423)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T13:23:17.625+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/users", parameters={}
2025-12-04T13:23:17.625+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#createUser(CreateUserRequest)
2025-12-04T13:23:17.630+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [iuh.fit.dtos.user.CreateUserRequest@2da4c5c1]
2025-12-04T13:23:17.738+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:23:17.739+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=201, data=iuh.fit.dtos.user.UserDTO@4706f302, message=To user thnh cng}]
2025-12-04T13:23:17.740+07:00 DEBUG 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]
2025-12-04T13:23:17.742+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.time.LocalDateTime]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.LinkedHashMap["data"]->iuh.fit.dtos.user.UserDTO["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:807)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:763)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:719)
	at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:423)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at iuh.fit.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-12-04T13:23:52.493+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:23:52.528+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:23:52.553+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:23:52.556+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:23:52.558+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:23:52.561+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:23:52.561+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:23:52.562+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:23:52.562+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:23:52.563+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:23:52.564+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:23:52.565+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:23:52.565+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:23:52.565+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:23:52.567+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:23:52.567+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:23:52.567+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:23:52.568+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:23:52.568+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:23:52.644+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:23:52.644+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:23:52.645+07:00  WARN 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:23:52.646+07:00 ERROR 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:23:52.690+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:23:52.693+07:00  INFO 38340 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:25:16.668+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 28192 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:25:16.672+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:25:18.443+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:25:18.552+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92 ms. Found 7 JPA repository interfaces.
2025-12-04T13:25:19.575+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:25:19.593+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:25:19.594+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:25:19.660+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:25:19.662+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2925 ms
2025-12-04T13:25:19.936+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:25:20.674+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:25:20.728+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:25:20.925+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@430106cf
2025-12-04T13:25:20.928+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:25:22.380+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:25:22.381+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:25:22.383+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:25:22.383+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:25:22.384+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:25:22.385+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:25:22.388+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:25:22.389+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:25:22.945+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:25:23.364+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:25:25.909+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:25:26.123+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:25:26.321+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:25:26.491+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:25:26.550+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:25:26.552+07:00  WARN 28192 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:25:26.816+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:25:26.870+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:25:27.197+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:25:27.220+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.385 seconds (process running for 12.154)
2025-12-04T13:25:32.875+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:25:32.877+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:25:32.877+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:25:32.878+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:25:32.879+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:25:32.884+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2196b8c6
2025-12-04T13:25:32.885+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@50e43637
2025-12-04T13:25:32.886+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:25:32.888+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-12-04T13:25:32.965+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:25:32.967+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:25:33.114+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:25:33.423+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:25:33.435+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:25:33.438+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:25:33.462+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:25:38.978+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:25:38.978+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:25:38.979+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:25:39.043+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:25:39.048+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:25:39.049+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:25:39.050+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:25:44.049+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:25:44.050+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:25:44.052+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:25:44.123+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:25:44.124+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:25:44.124+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:25:44.126+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:26:12.012+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:26:12.013+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:26:12.014+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:26:12.089+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:26:12.090+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:26:12.091+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:26:12.094+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:26:26.714+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/users", parameters={}
2025-12-04T13:26:26.714+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#getAllUsers()
2025-12-04T13:26:26.811+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:26:26.812+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[iuh.fit.dtos.user.UserDTO@146eb47d]}]
2025-12-04T13:26:26.828+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:26:54.128+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/users", parameters={}
2025-12-04T13:26:54.129+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#getAllUsers()
2025-12-04T13:26:54.144+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:26:54.145+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[iuh.fit.dtos.user.UserDTO@1ada9d0e, iuh.fit.dtos.user.UserDTO@5d7d1db4, iuh.fit.d (truncated)...]
2025-12-04T13:26:54.147+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:28:25.428+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:28:25.428+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:28:25.429+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:28:25.500+07:00  INFO 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:28:25.500+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:28:25.501+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=??ng nh?p thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:28:25.502+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:28:41.343+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/users", parameters={}
2025-12-04T13:28:41.344+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#getAllUsers()
2025-12-04T13:28:41.363+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:28:41.365+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[iuh.fit.dtos.user.UserDTO@75cdc567, iuh.fit.dtos.user.UserDTO@72a54055, iuh.fit.d (truncated)...]
2025-12-04T13:28:41.370+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:28:53.033+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/users?ids=13&ids=12%20", parameters={masked}
2025-12-04T13:28:53.034+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#deleteUser(Long, Long, List)
2025-12-04T13:28:53.072+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:28:53.075+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Xa 2 user thnh cng}]
2025-12-04T13:28:53.077+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:29:47.239+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=28&ids=27", parameters={masked}
2025-12-04T13:29:47.240+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T13:29:47.283+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:29:47.284+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 2 s?n ph?m thnh cng}]
2025-12-04T13:29:47.286+07:00 DEBUG 28192 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:34:02.056+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 31840 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:34:02.060+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:34:03.592+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:34:03.668+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 7 JPA repository interfaces.
2025-12-04T13:34:04.505+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:34:04.519+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:34:04.519+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:34:04.565+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:34:04.566+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2439 ms
2025-12-04T13:34:04.741+07:00 DEBUG 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:34:05.286+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:34:05.331+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:34:05.494+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3cc74fc4
2025-12-04T13:34:05.497+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:34:07.100+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:34:07.102+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:34:07.102+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:34:07.102+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:34:07.103+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:34:07.103+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:34:07.103+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:34:07.103+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:34:07.129+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:34:07.130+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:34:07.196+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'categories' already exists
2025-12-04T13:34:07.197+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'order_addresses' already exists
2025-12-04T13:34:07.533+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:34:07.877+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:34:10.909+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:34:11.102+07:00 DEBUG 31840 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:34:11.178+07:00 DEBUG 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:34:11.399+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:34:11.476+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:34:11.477+07:00  WARN 31840 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:34:11.812+07:00 DEBUG 31840 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:34:11.883+07:00 DEBUG 31840 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:34:12.404+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:34:12.435+07:00  INFO 31840 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.238 seconds (process running for 11.797)
2025-12-04T13:35:04.645+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38428 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:35:04.648+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:35:04.693+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T13:35:04.693+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T13:35:05.730+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:35:05.798+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2025-12-04T13:35:06.304+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:35:06.314+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:35:06.315+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:35:06.361+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:35:06.362+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1668 ms
2025-12-04T13:35:06.510+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:35:06.892+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:35:06.916+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:35:06.999+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4d0a728d
2025-12-04T13:35:07.001+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:35:07.916+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:35:07.917+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:35:07.917+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:35:07.918+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:35:07.918+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:35:07.918+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:35:07.919+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:35:07.919+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:35:07.940+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:35:07.941+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:35:08.017+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'categories' already exists
2025-12-04T13:35:08.021+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1050-42S01: Table 'order_addresses' already exists
2025-12-04T13:35:08.479+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:35:08.686+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:35:10.765+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:35:10.872+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:35:10.920+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:35:11.019+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:35:11.062+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:35:11.063+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:35:11.228+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:35:11.269+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:35:11.490+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:35:11.555+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:35:11.569+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 7.353 seconds (process running for 7.696)
2025-12-04T13:36:02.840+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-04T13:36:02.843+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:36:02.855+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:36:02.861+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:02.862+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKpcttvuq4mxppo8sxggjtn5i2c' at line 1
2025-12-04T13:36:02.864+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FKpcttvuq4mxppo8sxggjtn5i2c
2025-12-04T13:36:02.864+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK1re40cjegsfvw58xrkdp6bac6' at line 1
2025-12-04T13:36:02.865+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table cart_items drop foreign key if exists FK1re40cjegsfvw58xrkdp6bac6
2025-12-04T13:36:02.865+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKb5o626f86h46m4s7ms6ginnop' at line 1
2025-12-04T13:36:02.865+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table carts drop foreign key if exists FKb5o626f86h46m4s7ms6ginnop
2025-12-04T13:36:02.867+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKbioxgbv59vetrxe0ejfubep1w' at line 1
2025-12-04T13:36:02.868+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKbioxgbv59vetrxe0ejfubep1w
2025-12-04T13:36:02.868+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKocimc7dtr037rh4ls4l95nlfi' at line 1
2025-12-04T13:36:02.869+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table order_items drop foreign key if exists FKocimc7dtr037rh4ls4l95nlfi
2025-12-04T13:36:02.870+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKx1t8eioxmuh2e77oqahf2ctn' at line 1
2025-12-04T13:36:02.871+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FKx1t8eioxmuh2e77oqahf2ctn
2025-12-04T13:36:02.871+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FK32ql8ubntj5uh44ph9659tiih' at line 1
2025-12-04T13:36:02.872+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table orders drop foreign key if exists FK32ql8ubntj5uh44ph9659tiih
2025-12-04T13:36:02.873+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists FKog2rp4qthbtt2lfyhfo32lsw9' at line 1
2025-12-04T13:36:02.873+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: alter table products drop foreign key if exists FKog2rp4qthbtt2lfyhfo32lsw9
2025-12-04T13:36:02.895+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'categories' referenced by a foreign key constraint 'FKog2rp4qthbtt2lfyhfo32lsw9' on table 'products'.
2025-12-04T13:36:02.895+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists categories
2025-12-04T13:36:02.896+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.m.jdbc.message.server.ErrorPacket      : Error: 3730-HY000: Cannot drop table 'order_addresses' referenced by a foreign key constraint 'FKx1t8eioxmuh2e77oqahf2ctn' on table 'orders'.
2025-12-04T13:36:02.896+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: drop table if exists order_addresses
2025-12-04T13:36:02.939+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:36:02.942+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:36:03.046+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38428 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:36:03.046+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:36:03.400+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:36:03.420+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 7 JPA repository interfaces.
2025-12-04T13:36:03.578+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:36:03.579+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:36:03.580+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:36:03.597+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:36:03.597+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 549 ms
2025-12-04T13:36:03.662+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:36:03.728+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:36:03.729+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-04T13:36:03.735+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@605da45e
2025-12-04T13:36:03.735+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-04T13:36:03.905+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T13:36:03.906+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
2025-12-04T13:36:03.906+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-04T13:36:03.938+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-04T13:36:03.939+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-04T13:36:03.947+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T13:36:03.963+07:00 ERROR 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at iuh.fit.SpringRestApiQuanLyBanSachApplication.main(SpringRestApiQuanLyBanSachApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 18 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cart_items]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 22 common frames omitted

2025-12-04T13:36:22.761+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38428 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:36:22.761+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:36:23.025+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:36:23.046+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 7 JPA repository interfaces.
2025-12-04T13:36:23.154+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:36:23.155+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:36:23.155+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:36:23.210+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T13:36:23.210+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 447 ms
2025-12-04T13:36:23.273+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:36:23.331+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:36:23.332+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-04T13:36:23.336+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@5277df03
2025-12-04T13:36:23.337+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-04T13:36:23.537+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK64t7ox312pqal3p7fg9o503c2' at line 1
2025-12-04T13:36:23.549+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKhmsk25beh6atojvle1xuymjj0' at line 1
2025-12-04T13:36:23.560+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK6dotkott2kjsp8vw4d0m25fb7' at line 1
2025-12-04T13:36:23.573+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKr43af9ap4edm43mmtq01oddj6' at line 1
2025-12-04T13:36:23.978+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:24.365+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:36:24.425+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:36:24.459+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:36:24.513+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:36:24.543+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:36:24.544+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:36:24.631+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:36:24.657+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:36:24.804+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:36:24.823+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:36:24.832+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.096 seconds (process running for 80.96)
2025-12-04T13:36:24.950+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-04T13:36:33.334+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 82 class path changes (0 additions, 81 deletions, 1 modification)
2025-12-04T13:36:33.342+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:36:33.374+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:36:33.381+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:33.385+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-04T13:36:33.394+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-04T13:36:33.576+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38428 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:36:33.577+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:36:34.252+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:36:34.258+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2025-12-04T13:36:34.442+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:36:34.444+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:36:34.444+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:36:34.475+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T13:36:34.476+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 893 ms
2025-12-04T13:36:34.545+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:36:34.587+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:36:34.588+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-12-04T13:36:34.598+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection org.mariadb.jdbc.Connection@4247183c
2025-12-04T13:36:34.599+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-12-04T13:36:34.621+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:34.672+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:36:34.711+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 6 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:36:34.763+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:36:34.771+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:36:34.781+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:36:34.926+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: a0d98d46-43fb-4ab3-8fff-b1516fbcef01

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-04T13:36:34.930+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-04T13:36:34.992+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:36:35.084+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:36:35.111+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:36:35.129+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 1.637 seconds (process running for 91.257)
2025-12-04T13:36:35.137+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper matched:
      - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - found 'session' scope (OnWebApplicationCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.ObjectPostProcessor; SearchStrategy: all) found beans 'objectPostProcessor', 'webAuthorizationManagerPostProcessor', 'filterChainDecoratorPostProcessor', 'authenticationManagerPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T13:36:39.246+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 81 class path changes (81 additions, 0 deletions, 0 modifications)
2025-12-04T13:36:39.248+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-14] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-04T13:36:39.259+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-04T13:36:39.261+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-14] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:39.262+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-14] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-12-04T13:36:39.263+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [Thread-14] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-12-04T13:36:39.479+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 38428 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:36:39.480+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:36:39.984+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:36:40.046+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 7 JPA repository interfaces.
2025-12-04T13:36:40.264+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:36:40.266+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:36:40.266+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:36:40.298+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-04T13:36:40.298+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 817 ms
2025-12-04T13:36:40.411+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:36:40.522+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:36:40.531+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-12-04T13:36:40.549+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection org.mariadb.jdbc.Connection@12620c70
2025-12-04T13:36:40.551+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-12-04T13:36:40.971+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:41.435+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:36:41.508+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:36:41.562+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:36:41.640+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:36:41.689+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:36:41.689+07:00  WARN 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:36:41.830+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:36:41.858+07:00 DEBUG 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:36:42.083+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:36:42.113+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:36:42.128+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.701 seconds (process running for 98.257)
2025-12-04T13:36:42.207+07:00  INFO 38428 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   JacksonAutoConfiguration.JacksonObjectMapperConfiguration#jacksonObjectMapper:
      Did not match:
         - @ConditionalOnMissingBean (types: com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans of type 'com.fasterxml.jackson.databind.ObjectMapper' objectMapper (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,?; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManager and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' customUserDetailsService and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)
         - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'spring.security.user.password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'spring.security.user.name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-12-04T13:36:42.836+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication v0.0.1-SNAPSHOT using Java 17.0.14 with PID 25544 (E:\BE_QuanLyBanSach\target\SpringRestApiQuanLyBanSach-0.0.1-SNAPSHOT.jar started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:36:42.840+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:36:44.803+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:36:44.915+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 7 JPA repository interfaces.
2025-12-04T13:36:45.961+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:36:45.978+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:36:45.979+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:36:46.039+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:36:46.039+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3138 ms
2025-12-04T13:36:46.306+07:00 DEBUG 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:36:47.055+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:36:47.107+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:36:47.296+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@663622b1
2025-12-04T13:36:47.300+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:36:49.069+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:49.481+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:36:52.639+07:00  WARN 25544 --- [SpringRestApiQuanLyBanSach] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:36:52.856+07:00 DEBUG 25544 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:36:52.952+07:00 DEBUG 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:36:53.398+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:36:53.501+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:36:53.504+07:00  WARN 25544 --- [SpringRestApiQuanLyBanSach] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:36:53.897+07:00 DEBUG 25544 --- [SpringRestApiQuanLyBanSach] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:36:53.970+07:00 DEBUG 25544 --- [SpringRestApiQuanLyBanSach] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:36:54.376+07:00  WARN 25544 --- [SpringRestApiQuanLyBanSach] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-04T13:36:54.382+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:36:54.387+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-04T13:36:54.391+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-04T13:36:54.428+07:00  INFO 25544 --- [SpringRestApiQuanLyBanSach] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-04T13:36:54.453+07:00 ERROR 25544 --- [SpringRestApiQuanLyBanSach] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-12-04T13:37:21.307+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.1 with PID 31652 (E:\BE_QuanLyBanSach\target\classes started by LENOVO in E:\BE_QuanLyBanSach)
2025-12-04T13:37:21.308+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-04T13:37:21.339+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-04T13:37:21.339+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-04T13:37:22.136+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-04T13:37:22.198+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 7 JPA repository interfaces.
2025-12-04T13:37:22.638+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-04T13:37:22.648+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-04T13:37:22.649+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-04T13:37:22.691+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-04T13:37:22.692+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1352 ms
2025-12-04T13:37:22.811+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-04T13:37:23.148+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-04T13:37:23.170+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-04T13:37:23.252+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@23f1f5f8
2025-12-04T13:37:23.254+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-04T13:37:24.135+07:00  WARN 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK64t7ox312pqal3p7fg9o503c2' at line 1
2025-12-04T13:37:24.145+07:00  WARN 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKhmsk25beh6atojvle1xuymjj0' at line 1
2025-12-04T13:37:24.157+07:00  WARN 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UK6dotkott2kjsp8vw4d0m25fb7' at line 1
2025-12-04T13:37:24.169+07:00  WARN 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1064-42000: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'if exists UKr43af9ap4edm43mmtq01oddj6' at line 1
2025-12-04T13:37:24.416+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-04T13:37:24.602+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-04T13:37:26.535+07:00  WARN 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-04T13:37:26.650+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 51 mappings in 'requestMappingHandlerMapping'
2025-12-04T13:37:26.696+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-04T13:37:26.795+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-04T13:37:26.840+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-04T13:37:26.842+07:00  WARN 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-04T13:37:27.011+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-04T13:37:27.054+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-04T13:37:27.266+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-04T13:37:27.329+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-04T13:37:27.343+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 6.425 seconds (process running for 6.738)
2025-12-04T13:38:08.326+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-04T13:38:08.326+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-04T13:38:08.327+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-04T13:38:08.327+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-04T13:38:08.327+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-04T13:38:08.329+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@175f06a0
2025-12-04T13:38:08.330+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@608e7fc6
2025-12-04T13:38:08.330+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-04T13:38:08.331+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-04T13:38:08.367+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-04T13:38:08.371+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-04T13:38:08.448+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-04T13:38:08.632+07:00  INFO 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-04T13:38:08.640+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:38:08.642+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=ng nhp thnh cng, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-04T13:38:08.665+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:38:44.952+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/categories", parameters={}
2025-12-04T13:38:44.952+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.CategoryController#getCategories()
2025-12-04T13:38:44.998+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:38:44.999+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=[CategoryDTO(id=1, name=Sch Vn Hc, imageName=null, isActive=true), CategoryDTO( (truncated)...]
2025-12-04T13:38:45.003+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:39:44.442+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : DELETE "/categories?ids=8&ids=7", parameters={masked}
2025-12-04T13:39:44.443+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.CategoryController#deleteCategory(Integer, Integer, List)
2025-12-04T13:39:44.484+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:39:44.484+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=true}]
2025-12-04T13:39:44.485+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:40:16.603+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : DELETE "/users?ids=13&ids=12%20", parameters={masked}
2025-12-04T13:40:16.603+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.UserController#deleteUser(Long, Long, List)
2025-12-04T13:40:16.622+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:40:16.623+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Xa 2 user thnh cng}]
2025-12-04T13:40:16.623+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-04T13:40:50.950+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : DELETE "/products?ids=21&ids=22", parameters={masked}
2025-12-04T13:40:50.950+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.ProductController#deleteProduct(Integer, Integer, List)
2025-12-04T13:40:50.986+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-04T13:40:50.987+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, data=Xa 2 sn phm thnh cng}]
2025-12-04T13:40:50.987+07:00 DEBUG 31652 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
