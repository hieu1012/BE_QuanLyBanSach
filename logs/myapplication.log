2025-12-09T02:38:57.261+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.9 with PID 32328 (D:\www\BE_QuanLyBanSach\target\classes started by Windows in D:\www\BE_QuanLyBanSach)
2025-12-09T02:38:57.273+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-09T02:38:57.355+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-09T02:38:57.358+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-09T02:39:00.511+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-09T02:39:00.673+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 143 ms. Found 7 JPA repository interfaces.
2025-12-09T02:39:02.299+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-09T02:39:02.325+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-09T02:39:02.326+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-09T02:39:02.457+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-09T02:39:02.458+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5099 ms
2025-12-09T02:39:02.863+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-09T02:39:03.679+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-09T02:39:03.806+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-09T02:39:04.069+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@7f8d2a10
2025-12-09T02:39:04.073+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-09T02:39:06.353+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'orders_ibfk_1' of table 'quanlybansach.orders'
2025-12-09T02:39:06.361+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_id': used in a foreign key constraint 'order_items_ibfk_1'
2025-12-09T02:39:06.369+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'order_items_ibfk_1' of table 'quanlybansach.order_items'
2025-12-09T02:39:06.377+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_address_id': used in a foreign key constraint 'orders_ibfk_1'
2025-12-09T02:39:06.418+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:39:06.927+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-09T02:39:12.517+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-09T02:39:12.710+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 54 mappings in 'requestMappingHandlerMapping'
2025-12-09T02:39:12.821+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-09T02:39:13.065+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-09T02:39:13.126+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-09T02:39:13.127+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-09T02:39:13.508+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-09T02:39:13.578+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-09T02:39:14.040+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-09T02:39:14.159+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-09T02:39:14.174+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 18.034 seconds (process running for 19.594)
2025-12-09T02:39:15.071+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-09T02:39:15.072+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-09T02:39:15.075+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-09T02:39:15.076+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-09T02:39:15.076+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-09T02:39:15.079+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@594d220c
2025-12-09T02:39:15.082+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@269b93b9
2025-12-09T02:39:15.083+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-09T02:39:15.083+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(4)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-12-09T02:42:14.031+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-09T02:42:14.036+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-09T02:42:14.168+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=master, password=1111)]
2025-12-09T02:42:14.570+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] iuh.fit.controllers.AuthController       : User master logged in successfully
2025-12-09T02:42:14.583+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:42:14.584+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Đăng nhập thành công, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiTUFTVE (truncated)...]
2025-12-09T02:42:14.593+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:42:29.485+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin/orders", parameters={}
2025-12-09T02:42:29.486+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AdminOrderController#getOrdersByFilter(String, OrderStatus, LocalDateTime, LocalDateTime, Pageable)
2025-12-09T02:42:29.724+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:42:29.725+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Lấy danh sách đơn hàng (Admin) thành công, data=Page 1 of 1 containing iuh.fit. (truncated)...]
2025-12-09T02:42:29.745+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:42:52.528+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/stats/day", parameters={}
2025-12-09T02:42:52.529+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getStatsByDay(LocalDate, LocalDate)
2025-12-09T02:42:52.532+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> iuh.fit.controllers.StatisticsController.getStatsByDay(java.time.LocalDate,java.time.LocalDate): Required request parameter 'startDate' for method parameter type LocalDate is not present
2025-12-09T02:42:52.535+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler iuh.fit.exceptions.GlobalExceptionHandler#handleGeneralException(Exception)
2025-12-09T02:42:52.537+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:42:52.537+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, message=Đã xảy ra lỗi hệ thống: Required request parameter 'startDate' for method param (truncated)...]
2025-12-09T02:42:52.542+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'startDate' for method parameter type LocalDate is not present]
2025-12-09T02:42:52.542+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-09T02:43:13.205+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/stats/month", parameters={}
2025-12-09T02:43:13.205+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getStatsByMonth(Integer)
2025-12-09T02:43:13.206+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> iuh.fit.controllers.StatisticsController.getStatsByMonth(java.lang.Integer): Required request parameter 'year' for method parameter type Integer is not present
2025-12-09T02:43:13.207+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler iuh.fit.exceptions.GlobalExceptionHandler#handleGeneralException(Exception)
2025-12-09T02:43:13.208+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:43:13.208+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=500, message=Đã xảy ra lỗi hệ thống: Required request parameter 'year' for method parameter  (truncated)...]
2025-12-09T02:43:13.209+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'year' for method parameter type Integer is not present]
2025-12-09T02:43:13.211+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-12-09T02:43:35.223+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/stats/products", parameters={}
2025-12-09T02:43:35.224+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getTopSellingProducts(Pageable)
2025-12-09T02:43:35.257+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler iuh.fit.exceptions.GlobalExceptionHandler#handleRuntimeException(RuntimeException)
2025-12-09T02:43:35.258+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:43:35.259+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=400, message=class java.lang.Double cannot be cast to class java.math.BigDecimal (java.lang. (truncated)...]
2025-12-09T02:43:35.260+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.ClassCastException: class java.lang.Double cannot be cast to class java.math.BigDecimal (java.lang.Double and java.math.BigDecimal are in module java.base of loader 'bootstrap')]
2025-12-09T02:43:35.261+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-09T02:43:48.425+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/stats/customers", parameters={}
2025-12-09T02:43:48.426+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getTopCustomers(Pageable)
2025-12-09T02:43:48.432+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler iuh.fit.exceptions.GlobalExceptionHandler#handleRuntimeException(RuntimeException)
2025-12-09T02:43:48.432+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:43:48.433+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=400, message=class java.lang.Double cannot be cast to class java.math.BigDecimal (java.lang. (truncated)...]
2025-12-09T02:43:48.434+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.ClassCastException: class java.lang.Double cannot be cast to class java.math.BigDecimal (java.lang.Double and java.math.BigDecimal are in module java.base of loader 'bootstrap')]
2025-12-09T02:43:48.434+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-09T02:45:39.632+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-12-09T02:45:39.640+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-09T02:45:39.645+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-09T02:45:39.656+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:45:39.660+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-09T02:45:39.667+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-09T02:45:39.845+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.9 with PID 32328 (D:\www\BE_QuanLyBanSach\target\classes started by Windows in D:\www\BE_QuanLyBanSach)
2025-12-09T02:45:39.846+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-09T02:45:40.779+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-09T02:45:40.829+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
2025-12-09T02:45:41.053+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-09T02:45:41.054+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-09T02:45:41.054+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-09T02:45:41.089+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-09T02:45:41.091+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1241 ms
2025-12-09T02:45:41.209+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-09T02:45:41.286+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-09T02:45:41.288+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-09T02:45:41.293+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.mariadb.jdbc.Connection@314d4a9a
2025-12-09T02:45:41.293+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-09T02:45:41.556+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'orders_ibfk_1' of table 'quanlybansach.orders'
2025-12-09T02:45:41.561+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_id': used in a foreign key constraint 'order_items_ibfk_1'
2025-12-09T02:45:41.567+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'order_items_ibfk_1' of table 'quanlybansach.order_items'
2025-12-09T02:45:41.574+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_address_id': used in a foreign key constraint 'orders_ibfk_1'
2025-12-09T02:45:41.588+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:45:42.346+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-09T02:45:42.467+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-12-09T02:45:42.531+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-09T02:45:42.693+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-09T02:45:42.744+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-09T02:45:42.746+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-09T02:45:42.907+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-09T02:45:42.929+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-09T02:45:43.170+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-09T02:45:43.204+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-09T02:45:43.212+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 3.439 seconds (process running for 408.632)
2025-12-09T02:45:43.268+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-09T02:45:44.618+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-12-09T02:45:44.621+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-09T02:45:44.628+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-09T02:45:44.637+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:45:44.638+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-09T02:45:44.641+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-09T02:45:44.858+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.9 with PID 32328 (D:\www\BE_QuanLyBanSach\target\classes started by Windows in D:\www\BE_QuanLyBanSach)
2025-12-09T02:45:44.859+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-09T02:45:45.312+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-09T02:45:45.356+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 7 JPA repository interfaces.
2025-12-09T02:45:45.493+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-09T02:45:45.494+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-09T02:45:45.494+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-09T02:45:45.516+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-09T02:45:45.516+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 654 ms
2025-12-09T02:45:45.586+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-09T02:45:45.659+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-09T02:45:45.661+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-09T02:45:45.667+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.mariadb.jdbc.Connection@67c355d3
2025-12-09T02:45:45.668+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-09T02:45:45.898+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'orders_ibfk_1' of table 'quanlybansach.orders'
2025-12-09T02:45:45.904+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_id': used in a foreign key constraint 'order_items_ibfk_1'
2025-12-09T02:45:45.910+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'order_items_ibfk_1' of table 'quanlybansach.order_items'
2025-12-09T02:45:45.915+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_address_id': used in a foreign key constraint 'orders_ibfk_1'
2025-12-09T02:45:45.924+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:45:46.317+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-09T02:45:46.373+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 54 mappings in 'requestMappingHandlerMapping'
2025-12-09T02:45:46.404+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-09T02:45:46.492+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-09T02:45:46.527+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-09T02:45:46.528+07:00  WARN 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-09T02:45:46.621+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-09T02:45:46.637+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-09T02:45:46.804+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-09T02:45:46.828+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-09T02:45:46.837+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 2.038 seconds (process running for 412.256)
2025-12-09T02:45:46.869+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-09T02:50:48.411+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-09T02:50:48.411+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-09T02:50:48.411+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-09T02:50:48.411+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-09T02:50:48.411+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-09T02:50:48.413+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4b162026
2025-12-09T02:50:48.414+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@37285588
2025-12-09T02:50:48.414+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-09T02:50:48.414+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-09T02:50:48.428+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/stats/day?startDate=2023-01-01&endDate=2024-12-31", parameters={masked}
2025-12-09T02:50:48.429+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getStatsByDay(LocalDate, LocalDate)
2025-12-09T02:50:48.461+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:50:48.461+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Lấy thống kê theo ngày thành công, data=[]}]
2025-12-09T02:50:48.463+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:51:06.239+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/stats/month?year=2024", parameters={masked}
2025-12-09T02:51:06.240+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getStatsByMonth(Integer)
2025-12-09T02:51:06.258+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:51:06.259+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Lấy thống kê theo tháng thành công, data=[]}]
2025-12-09T02:51:06.261+07:00 DEBUG 32328 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:53:01.893+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-09T02:53:01.899+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-09T02:53:01.906+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:53:01.907+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-09T02:53:01.910+07:00  INFO 32328 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-09T02:53:08.299+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Starting SpringRestApiQuanLyBanSachApplication using Java 21.0.9 with PID 23376 (D:\www\BE_QuanLyBanSach\target\classes started by Windows in D:\www\BE_QuanLyBanSach)
2025-12-09T02:53:08.301+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : No active profile set, falling back to 1 default profile: "default"
2025-12-09T02:53:08.392+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-09T02:53:08.394+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-09T02:53:10.124+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-09T02:53:10.231+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 7 JPA repository interfaces.
2025-12-09T02:53:11.003+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-09T02:53:11.018+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-09T02:53:11.019+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-09T02:53:11.075+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-09T02:53:11.075+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2681 ms
2025-12-09T02:53:11.278+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-12-09T02:53:11.848+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-09T02:53:11.886+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-09T02:53:11.973+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.mariadb.jdbc.Connection@4c0dbe53
2025-12-09T02:53:11.977+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-09T02:53:13.224+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'orders_ibfk_1' of table 'quanlybansach.orders'
2025-12-09T02:53:13.232+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_id': used in a foreign key constraint 'order_items_ibfk_1'
2025-12-09T02:53:13.238+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1833-HY000: Cannot change column 'id': used in a foreign key constraint 'order_items_ibfk_1' of table 'quanlybansach.order_items'
2025-12-09T02:53:13.244+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.m.jdbc.message.server.ErrorPacket      : Error: 1832-HY000: Cannot change column 'order_address_id': used in a foreign key constraint 'orders_ibfk_1'
2025-12-09T02:53:13.271+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:53:13.539+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-09T02:53:17.253+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-09T02:53:17.425+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 54 mappings in 'requestMappingHandlerMapping'
2025-12-09T02:53:17.505+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-09T02:53:17.730+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-12-09T02:53:17.802+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-12-09T02:53:17.803+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-12-09T02:53:18.148+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-09T02:53:18.228+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-09T02:53:18.727+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-09T02:53:18.821+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-09T02:53:18.845+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [restartedMain] .f.SpringRestApiQuanLyBanSachApplication : Started SpringRestApiQuanLyBanSachApplication in 11.44 seconds (process running for 12.548)
2025-12-09T02:53:19.586+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-09T02:53:19.586+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-09T02:53:19.586+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-09T02:53:19.586+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-09T02:53:19.586+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-09T02:53:19.588+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2034d5a6
2025-12-09T02:53:19.589+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@32bfb14b
2025-12-09T02:53:19.589+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-09T02:53:19.589+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [RMI TCP Connection(2)-192.168.137.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-09T02:53:51.936+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/stats/customers", parameters={}
2025-12-09T02:53:51.942+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getTopCustomers(Pageable)
2025-12-09T02:53:52.018+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:53:52.019+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Lấy danh sách khách hàng hàng đầu thành công, data=Page 1 of 1 containing iuh.f (truncated)...]
2025-12-09T02:53:52.043+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:54:12.445+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/stats/products", parameters={}
2025-12-09T02:54:12.446+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.StatisticsController#getTopSellingProducts(Pageable)
2025-12-09T02:54:12.455+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:54:12.455+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Lấy danh sách sản phẩm bán chạy thành công, data=Page 1 of 1 containing iuh.fit (truncated)...]
2025-12-09T02:54:12.457+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:55:08.222+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/cart/checkout", parameters={}
2025-12-09T02:55:08.223+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.CartController#checkout(CheckoutRequest)
2025-12-09T02:55:08.283+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckoutRequest(orderAddress=OrderAddressDTO(id=null, firstName=Nguyễn, lastName=Văn A, address=123  (truncated)...]
2025-12-09T02:55:08.398+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler iuh.fit.exceptions.GlobalExceptionHandler#handleItemNotFoundException(ItemNotFoundException)
2025-12-09T02:55:08.399+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:55:08.399+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=404, message=Không tìm thấy giỏ hàng của user, timestamp=2025-12-09T02:55:08.399425700}]
2025-12-09T02:55:08.400+07:00  WARN 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [iuh.fit.exceptions.ItemNotFoundException: Không tìm thấy giỏ hàng của user]
2025-12-09T02:55:08.401+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-12-09T02:55:46.339+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/auth/forgot-password", parameters={}
2025-12-09T02:55:46.341+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#forgotPassword(ForgotPasswordRequest)
2025-12-09T02:55:46.344+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ForgotPasswordRequest(email=customer01@gmail.com)]
2025-12-09T02:55:46.402+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] iuh.fit.controllers.AuthController       : Forgot password request for email: customer01@gmail.com
2025-12-09T02:55:46.403+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:55:46.403+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Email reset password đã được gửi. Vui lòng kiểm tra email của bạn., data={reset (truncated)...]
2025-12-09T02:55:46.404+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:56:04.633+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/auth/reset-password", parameters={}
2025-12-09T02:56:04.635+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#resetPassword(ResetPasswordRequest)
2025-12-09T02:56:04.638+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ResetPasswordRequest(token=742b7ba3-c7ce-4aaf-80e5-9bb9bb29c7ca, newPassword=newpass123, confirmPass (truncated)...]
2025-12-09T02:56:04.806+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] iuh.fit.controllers.AuthController       : Password reset successfully for user: customer01
2025-12-09T02:56:04.807+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:56:04.808+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Đặt lại password thành công. Vui lòng đăng nhập với password mới., data=null}]
2025-12-09T02:56:04.811+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:56:17.268+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/auth/login", parameters={}
2025-12-09T02:56:17.269+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.AuthController#login(LoginRequest)
2025-12-09T02:56:17.272+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=customer01, password=newpass123)]
2025-12-09T02:56:17.398+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] iuh.fit.controllers.AuthController       : User customer01 logged in successfully
2025-12-09T02:56:17.398+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:56:17.399+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=200, message=Đăng nhập thành công, data={accessToken=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUi (truncated)...]
2025-12-09T02:56:17.403+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-09T02:56:32.030+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/cart/checkout", parameters={}
2025-12-09T02:56:32.033+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to iuh.fit.controllers.CartController#checkout(CheckoutRequest)
2025-12-09T02:56:32.035+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckoutRequest(orderAddress=OrderAddressDTO(id=null, firstName=Nguyễn, lastName=Văn A, address=123  (truncated)...]
2025-12-09T02:56:32.169+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-09T02:56:32.172+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{status=201, message=Thanh toán thành công! Đơn hàng đã được tạo., data=OrderDTO(id=10, orderId=ORD- (truncated)...]
2025-12-09T02:56:32.183+07:00 DEBUG 23376 --- [SpringRestApiQuanLyBanSach] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-12-09T02:56:51.067+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-09T02:56:51.070+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-09T02:56:51.084+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-09T02:56:51.087+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-09T02:56:51.091+07:00  INFO 23376 --- [SpringRestApiQuanLyBanSach] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
