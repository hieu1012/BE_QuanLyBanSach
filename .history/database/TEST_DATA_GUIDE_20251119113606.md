# ğŸ“š HÆ°á»›ng Dáº«n Data Test - Quáº£n LÃ½ BÃ¡n SÃ¡ch

## ğŸ“– Ná»™i Dung

- **Users**: 1 Admin + 5 Customers
- **Categories**: 8 danh má»¥c sÃ¡ch
- **Products**: 27 sáº£n pháº©m (phÃ¢n bá»‘ Ä‘á»u trong cÃ¡c danh má»¥c)
- **Orders**: 8 Ä‘Æ¡n hÃ ng (tÃ­nh tá»« ngÃ y 10-14/01/2025)
- **Order Items**: Chi tiáº¿t tá»«ng sáº£n pháº©m trong Ä‘Æ¡n hÃ ng

---

## ğŸ” TÃ i Khoáº£n Test

### Admin Account
```
Username: admin
Password: password
Email: admin@bookstore.com
```

### Customer Accounts
```
Customer 1:
  Username: customer1
  Password: password
  Email: customer1@gmail.com

Customer 2:
  Username: customer2
  Password: password
  Email: customer2@gmail.com

Customer 3:
  Username: customer3
  Password: password
  Email: customer3@gmail.com

Customer 4:
  Username: customer4
  Password: password
  Email: customer4@gmail.com

Customer 5:
  Username: customer5
  Password: password
  Email: customer5@gmail.com
```

---

## ğŸ“ Danh Má»¥c SÃ¡ch (Categories)

| ID | TÃªn Danh Má»¥c | Sá»‘ Sáº£n Pháº©m |
|----|-------------|-----------|
| 1 | SÃ¡ch VÄƒn Há»c | 4 |
| 2 | SÃ¡ch Ká»¹ Thuáº­t | 4 |
| 3 | SÃ¡ch Kinh Táº¿ | 4 |
| 4 | SÃ¡ch TÃ¢m LÃ½ | 4 |
| 5 | SÃ¡ch Lá»‹ch Sá»­ | 3 |
| 6 | SÃ¡ch Khoa Há»c | 3 |
| 7 | SÃ¡ch Ngoáº¡i Ngá»¯ | 3 |
| 8 | SÃ¡ch Tráº» Em | 3 |

---

## ğŸ“š Má»™t Sá»‘ Sáº£n Pháº©m Máº«u

### Danh Má»¥c VÄƒn Há»c
1. **CÃ´ GÃ¡i Äáº¿n Tá»« HÃ n Quá»‘c**
   - GiÃ¡ gá»‘c: 85,000 VNÄ
   - GiÃ¡ giáº£m: 68,000 VNÄ (20% off)
   - Tá»“n kho: 50

2. **TÃ¢m Tráº¡ng Má»™t Con NgÆ°á»i**
   - GiÃ¡ gá»‘c: 95,000 VNÄ
   - GiÃ¡ giáº£m: 76,000 VNÄ (20% off)
   - Tá»“n kho: 35

### Danh Má»¥c Ká»¹ Thuáº­t
5. **Java Programming Advanced**
   - GiÃ¡ gá»‘c: 320,000 VNÄ
   - GiÃ¡ giáº£m: 256,000 VNÄ (20% off)
   - Tá»“n kho: 60

6. **Spring Boot in Practice**
   - GiÃ¡ gá»‘c: 285,000 VNÄ
   - GiÃ¡ giáº£m: 228,000 VNÄ (20% off)
   - Tá»“n kho: 40

---

## ğŸ“¦ Máº«u ÄÆ¡n HÃ ng

### Order 1 (ORD001)
- **Tráº¡ng thÃ¡i**: PENDING
- **NgÆ°á»i Ä‘áº·t**: Nguyá»…n VÄƒn A (Customer 1)
- **Sáº£n pháº©m**:
  - CÃ´ GÃ¡i Äáº¿n Tá»« HÃ n Quá»‘c (x1) - 68,000 VNÄ
  - TÃ¢m Tráº¡ng Má»™t Con NgÆ°á»i (x2) - 76,000 VNÄ
- **Tá»•ng tiá»n**: 215,000 VNÄ
- **PhÆ°Æ¡ng thá»©c thanh toÃ¡n**: CREDIT_CARD
- **NgÃ y Ä‘áº·t**: 10/01/2025 10:30

### Order 2 (ORD002)
- **Tráº¡ng thÃ¡i**: CONFIRMED
- **NgÆ°á»i Ä‘áº·t**: Tráº§n Thá»‹ B (Customer 2)
- **Sáº£n pháº©m**:
  - Java Programming Advanced (x1) - 256,000 VNÄ
  - Spring Boot in Practice (x1) - 228,000 VNÄ
- **Tá»•ng tiá»n**: 485,000 VNÄ
- **PhÆ°Æ¡ng thá»©c thanh toÃ¡n**: BANK_TRANSFER
- **NgÃ y Ä‘áº·t**: 11/01/2025 14:15

---

## ğŸš€ HÆ°á»›ng Dáº«n Nháº­p Data

### 1. Nháº­p Data SQL
```bash
# Náº¿u dÃ¹ng MySQL
mysql -u username -p database_name < database/test_data.sql

# Náº¿u dÃ¹ng PostgreSQL
psql -U username -d database_name -f database/test_data.sql
```

### 2. Nháº­p Data Qua Postman
- Má»Ÿ Postman
- Chá»n **Import** â†’ **File**
- Chá»n file `BookStore_API_Collection.postman_collection.json`
- Environment variables sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c thÃªm:
  - `{{token}}`: Token cá»§a customer sau login
  - `{{admin_token}}`: Token cá»§a admin sau login

---

## ğŸ“ Chi Tiáº¿t Request Test

### Authentication (XÃ¡c Thá»±c)
```
POST /api/auth/login
POST /api/auth/register
```

### Categories (Danh Má»¥c)
```
GET    /api/categories              - Láº¥y táº¥t cáº£ danh má»¥c
GET    /api/categories/{id}         - Láº¥y danh má»¥c theo ID
POST   /api/categories              - Táº¡o danh má»¥c má»›i (Admin)
PUT    /api/categories/{id}         - Cáº­p nháº­t danh má»¥c (Admin)
DELETE /api/categories/{id}         - XÃ³a danh má»¥c (Admin)
```

### Products (Sáº£n Pháº©m)
```
GET    /api/products                     - Láº¥y táº¥t cáº£ sáº£n pháº©m
GET    /api/products/{id}                - Láº¥y sáº£n pháº©m theo ID
GET    /api/products/category/{catId}    - Láº¥y sáº£n pháº©m theo danh má»¥c
POST   /api/products                     - Táº¡o sáº£n pháº©m má»›i (Admin)
PUT    /api/products/{id}                - Cáº­p nháº­t sáº£n pháº©m (Admin)
DELETE /api/products/{id}                - XÃ³a sáº£n pháº©m (Admin)
```

### Orders (ÄÆ¡n HÃ ng)
```
GET    /api/orders                    - Láº¥y táº¥t cáº£ Ä‘Æ¡n (Admin)
GET    /api/orders/my-orders          - Láº¥y Ä‘Æ¡n cá»§a user hiá»‡n táº¡i
GET    /api/orders/{id}               - Láº¥y Ä‘Æ¡n hÃ ng theo ID
POST   /api/orders                    - Táº¡o Ä‘Æ¡n hÃ ng má»›i (Customer)
PUT    /api/orders/{id}/status        - Cáº­p nháº­t tráº¡ng thÃ¡i (Admin)
PUT    /api/orders/{id}/cancel        - Há»§y Ä‘Æ¡n hÃ ng
```

### Users (NgÆ°á»i DÃ¹ng)
```
GET    /api/users                  - Láº¥y táº¥t cáº£ users (Admin)
GET    /api/users/me               - Láº¥y thÃ´ng tin user hiá»‡n táº¡i
GET    /api/users/{id}             - Láº¥y thÃ´ng tin user (Admin)
PUT    /api/users/profile          - Cáº­p nháº­t profile
PUT    /api/users/change-password  - Äá»•i máº­t kháº©u
DELETE /api/users/{id}             - XÃ³a user (Admin)
```

---

## âœ… Kiá»ƒm Tra Dá»¯ Liá»‡u

### Kiá»ƒm tra tá»«ng báº£ng:
```sql
SELECT COUNT(*) as 'Tá»•ng Users' FROM users;
SELECT COUNT(*) as 'Tá»•ng Categories' FROM categories;
SELECT COUNT(*) as 'Tá»•ng Products' FROM products;
SELECT COUNT(*) as 'Tá»•ng Orders' FROM orders;
SELECT COUNT(*) as 'Tá»•ng Order Items' FROM order_items;
```

### Káº¿t quáº£ dá»± kiáº¿n:
```
Tá»•ng Users: 6 (1 admin + 5 customers)
Tá»•ng Categories: 8
Tá»•ng Products: 27
Tá»•ng Orders: 8
Tá»•ng Order Items: 15
```

---

## ğŸ”’ LÆ°u Ã Báº£o Máº­t

1. **Password**: Táº¥t cáº£ tÃ i khoáº£n test Ä‘á»u dÃ¹ng password lÃ  `password`
2. **JWT Token**: Láº¥y token tá»« response cá»§a login API
3. **Authorization Header**: Sá»­ dá»¥ng format `Bearer <token>`
4. **Admin Only**: CÃ¡c endpoint táº¡o/sá»­a/xÃ³a category, product cáº§n token admin

---

## ğŸ“Š Thá»‘ng KÃª Dá»¯ Liá»‡u

### GiÃ¡ Cáº£ Sáº£n Pháº©m
- **Min**: 52,000 VNÄ (BÃ© Há»c MÃ u Sáº¯c)
- **Max**: 256,000 VNÄ (Java Programming Advanced - giÃ¡ giáº£m)
- **Trung bÃ¬nh**: ~140,000 VNÄ

### Tá»“n Kho
- **Min**: 25 (CÃ´ng Nghá»‡ Sinh Há»c)
- **Max**: 100 (BÃ© Há»c MÃ u Sáº¯c)

### Tá»•ng Tiá»n CÃ¡c ÄÆ¡n
- Nhá» nháº¥t: 165,000 VNÄ
- Lá»›n nháº¥t: 485,000 VNÄ

---

## ğŸ†˜ Kháº¯c Phá»¥c Sá»± Cá»‘

### Lá»—i: Duplicate Key
```sql
-- XÃ³a táº¥t cáº£ dá»¯ liá»‡u cÅ©
TRUNCATE TABLE order_items;
TRUNCATE TABLE orders;
TRUNCATE TABLE order_address;
TRUNCATE TABLE products;
TRUNCATE TABLE categories;
TRUNCATE TABLE users;

-- Rá»“i cháº¡y láº¡i script test_data.sql
```

### Lá»—i: Foreign Key Constraint
- Äáº£m báº£o cháº¡y script theo thá»© tá»±: users â†’ categories â†’ products â†’ orders â†’ order_items

### Lá»—i: Authentication Failure
- Kiá»ƒm tra token cÃ³ expired chÆ°a
- Login láº¡i Ä‘á»ƒ láº¥y token má»›i

---

## ğŸ“ LiÃªn Há»‡ & Há»— Trá»£

Náº¿u cÃ³ váº¥n Ä‘á», kiá»ƒm tra:
1. Server cÃ³ cháº¡y trÃªn port 8080
2. Database connection cÃ³ Ä‘Ãºng khÃ´ng
3. SQL script cÃ³ cháº¡y thÃ nh cÃ´ng khÃ´ng
4. Token JWT cÃ³ há»£p lá»‡ khÃ´ng

---

**Chuáº©n bá»‹ tá»«**: 19/11/2025  
**Version**: 1.0
